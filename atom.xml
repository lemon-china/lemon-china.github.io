<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Wei Echo</title>
  
  <subtitle>é«˜æ•ˆç¨³å®š Â· ç®€æ´æ˜“ç”¨ Â· çµæ´»æ‰©å±•</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://github.com/weiecho/"/>
  <updated>2020-07-01T12:59:06.479Z</updated>
  <id>https://github.com/weiecho/</id>
  
  <author>
    <name>Wei Echo</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>shardingsphereä¸æ”¯æŒLocalDateTime/LocalDate</title>
    <link href="https://github.com/weiecho/2020/06/17/exp_1116/"/>
    <id>https://github.com/weiecho/2020/06/17/exp_1116/</id>
    <published>2020-06-17T07:56:39.000Z</published>
    <updated>2020-07-01T12:59:06.479Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">shardingsphereé»˜è®¤ä½¿ç”¨ç­‰jdkç‰ˆæœ¬æ˜¯1.7ï¼Œæ‰€ä»¥å¹¶æ²¡æœ‰æ”¯æŒjdk1.8+çš„LocalDateTimeç­‰ç‰¹æ€§</span><br><span class="line"></span><br><span class="line">æˆ‘å·²ç»åœ¨forkä¸Šæ‰©å±•äº†è¿™ä¸ªç‰¹æ€§ï¼Œå¹¶å°†JDKçš„åŠŸèƒ½å‡çº§åˆ°jdk1.8ã€‚</span><br><span class="line"></span><br><span class="line">ä¸»è¦éªŒè¯äº†æ”¯æŒ Mybatis5+</span><br><span class="line"></span><br><span class="line">4.0.0-RC2-1.8</span><br><span class="line">https:&#x2F;&#x2F;github.com&#x2F;lonyee1989&#x2F;incubator-shardingsphere&#x2F;tree&#x2F;4.0.0-RC2-1.8</span><br></pre></td></tr></table></figure><h3 id="ç›´æ¥ä¸Šå®ç°ä»£ç "><a href="#ç›´æ¥ä¸Šå®ç°ä»£ç " class="headerlink" title="ç›´æ¥ä¸Šå®ç°ä»£ç "></a>ç›´æ¥ä¸Šå®ç°ä»£ç </h3><p><a href="https://github.com/lonyee1989/incubator-shardingsphere/tree/4.0.0-RC2-1.8">forkä»£ç </a></p><p>1ã€package org.apache.shardingsphere.shardingjdbc.jdbc.core.resultset;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Convert value via expected class type.</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> value original value</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> convertType expected class type</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> converted value</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Object <span class="title">convertValue</span><span class="params">(<span class="keyword">final</span> Object value, <span class="keyword">final</span> Class&lt;?&gt; convertType)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">null</span> == value) &#123;</span><br><span class="line">        <span class="keyword">return</span> convertNullValue(convertType);</span><br><span class="line">    &#125; </span><br><span class="line">    <span class="keyword">if</span> (value.getClass() == convertType) &#123;</span><br><span class="line">        <span class="keyword">return</span> value;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (LocalDateTime.class.equals(convertType)) &#123;</span><br><span class="line">        <span class="keyword">return</span> convertLocalDateTimeValue(value, convertType);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (LocalDate.class.equals(convertType)) &#123;</span><br><span class="line">        <span class="keyword">return</span> convertLocalDateValue(value, convertType);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (LocalTime.class.equals(convertType)) &#123;</span><br><span class="line">        <span class="keyword">return</span> convertLocalTimeValue(value, convertType);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (value <span class="keyword">instanceof</span> Number) &#123;</span><br><span class="line">        <span class="keyword">return</span> convertNumberValue(value, convertType);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (value <span class="keyword">instanceof</span> Date) &#123;</span><br><span class="line">        <span class="keyword">return</span> convertDateValue(value, convertType);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (value <span class="keyword">instanceof</span> <span class="keyword">byte</span>[]) &#123;</span><br><span class="line">        <span class="keyword">return</span> convertByteArrayValue(value, convertType);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (String.class.equals(convertType)) &#123;</span><br><span class="line">        <span class="keyword">return</span> value.toString();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> value;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">......</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> Object <span class="title">convertLocalDateTimeValue</span><span class="params">(<span class="keyword">final</span> Object value, <span class="keyword">final</span> Class&lt;?&gt; convertType)</span> </span>&#123;</span><br><span class="line">    Timestamp timestamp = (Timestamp) value;</span><br><span class="line">    <span class="keyword">return</span> timestamp.toInstant().atZone(ZoneId.systemDefault()).toLocalDateTime();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> Object <span class="title">convertLocalDateValue</span><span class="params">(<span class="keyword">final</span> Object value, <span class="keyword">final</span> Class&lt;?&gt; convertType)</span> </span>&#123;</span><br><span class="line">    Timestamp timestamp = (Timestamp) value;</span><br><span class="line">    <span class="keyword">return</span> timestamp.toInstant().atZone(ZoneId.systemDefault()).toLocalDate();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> Object <span class="title">convertLocalTimeValue</span><span class="params">(<span class="keyword">final</span> Object value, <span class="keyword">final</span> Class&lt;?&gt; convertType)</span> </span>&#123;</span><br><span class="line">    Timestamp timestamp = (Timestamp) value;</span><br><span class="line">    <span class="keyword">return</span> timestamp.toInstant().atZone(ZoneId.systemDefault()).toLocalTime();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2ã€package org.apache.shardingsphere.shardingjdbc.jdbc.core.resultset;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> &lt;T&gt; <span class="function">T <span class="title">getObject</span><span class="params">(<span class="keyword">final</span> <span class="keyword">int</span> columnIndex, <span class="keyword">final</span> Class&lt;T&gt; type)</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (LocalDateTime.class.equals(type) || LocalDate.class.equals(type) || LocalTime.class.equals(type)) &#123;</span><br><span class="line">        <span class="keyword">return</span> (T) ResultSetUtil.convertValue(mergeResultSet.getValue(columnIndex, Timestamp.class), type);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> SQLFeatureNotSupportedException(<span class="string">"getObject with type"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> &lt;T&gt; <span class="function">T <span class="title">getObject</span><span class="params">(<span class="keyword">final</span> String columnLabel, <span class="keyword">final</span> Class&lt;T&gt; type)</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (LocalDateTime.class.equals(type) || LocalDate.class.equals(type) || LocalTime.class.equals(type)) &#123;</span><br><span class="line">        <span class="keyword">return</span> (T) ResultSetUtil.convertValue(mergeResultSet.getValue(columnLabel, Timestamp.class), type);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> SQLFeatureNotSupportedException(<span class="string">"getObject with type"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3ã€package org.apache.shardingsphere.shardingjdbc.jdbc.core.resultset;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> &lt;T&gt; <span class="function">T <span class="title">getObject</span><span class="params">(<span class="keyword">final</span> <span class="keyword">int</span> columnIndex, <span class="keyword">final</span> Class&lt;T&gt; type)</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (LocalDateTime.class.equals(type) || LocalDate.class.equals(type) || LocalTime.class.equals(type)) &#123;</span><br><span class="line">        <span class="keyword">return</span> (T) ResultSetUtil.convertValue(resultSet.getValue(columnIndex, Timestamp.class), type);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> SQLFeatureNotSupportedException(<span class="string">"getObject with type"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> &lt;T&gt; <span class="function">T <span class="title">getObject</span><span class="params">(<span class="keyword">final</span> String columnLabel, <span class="keyword">final</span> Class&lt;T&gt; type)</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (LocalDateTime.class.equals(type) || LocalDate.class.equals(type) || LocalTime.class.equals(type)) &#123;</span><br><span class="line">        <span class="keyword">return</span> (T) ResultSetUtil.convertValue(resultSet.getValue(columnLabel, Timestamp.class), type);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> SQLFeatureNotSupportedException(<span class="string">"getObject with type"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>4ã€package org.apache.shardingsphere.shardingjdbc.jdbc.unsupported;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> &lt;T&gt; <span class="function">T <span class="title">getObject</span><span class="params">(<span class="keyword">final</span> <span class="keyword">int</span> columnIndex, <span class="keyword">final</span> Class&lt;T&gt; type)</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> SQLFeatureNotSupportedException(<span class="string">"getObject with type"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> &lt;T&gt; <span class="function">T <span class="title">getObject</span><span class="params">(<span class="keyword">final</span> String columnLabel, <span class="keyword">final</span> Class&lt;T&gt; type)</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> SQLFeatureNotSupportedException(<span class="string">"getObject with type"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class
      
    
    </summary>
    
    
      <category term="ç»éªŒåˆ†äº«" scheme="https://github.com/weiecho/categories/%E7%BB%8F%E9%AA%8C%E5%88%86%E4%BA%AB/"/>
    
    
      <category term="shardingsphere" scheme="https://github.com/weiecho/tags/shardingsphere/"/>
    
      <category term="spring" scheme="https://github.com/weiecho/tags/spring/"/>
    
      <category term="æ¶æ„è®¾è®¡" scheme="https://github.com/weiecho/tags/%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/"/>
    
  </entry>
  
  <entry>
    <title>Sentinelæµæ§é™çº§å¿«é€Ÿå…¥é—¨</title>
    <link href="https://github.com/weiecho/2020/05/02/stu_1113/"/>
    <id>https://github.com/weiecho/2020/05/02/stu_1113/</id>
    <published>2020-05-02T04:18:12.000Z</published>
    <updated>2020-07-03T02:57:44.440Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Sentinelä»¥æµé‡ä¸ºåˆ‡å…¥ç‚¹ï¼Œä»æµé‡æ§åˆ¶ã€ç†”æ–­é™çº§ã€ç³»ç»Ÿä¿æŠ¤ç­‰å¤šä¸ªç»´åº¦æ¥å¸®åŠ©æ‚¨ä¿éšœæœåŠ¡çš„ç¨³å®šæ€§ï¼Œæä¾›æ›´ä¸“ä¸šç¨³å®šçš„æµé‡é˜²æŠ¤æ‰‹æ®µã€ç§’çº§çš„æµé‡æ°´ä½åˆ†å¸ƒåˆ†æåŠŸèƒ½ã€‚</p></blockquote><p>é¡¹ç›®åœ°å€ï¼š<a href="https://github.com/alibaba/Sentinel">sentinelæµæ§é˜²æŠ¤</a></p><h3 id="ä½¿ç”¨åœºæ™¯"><a href="#ä½¿ç”¨åœºæ™¯" class="headerlink" title="ä½¿ç”¨åœºæ™¯"></a>ä½¿ç”¨åœºæ™¯</h3><p>Sentinelå¹¿æ³›ç”¨äºç§’æ€åœºæ™¯ã€æ¶ˆæ¯å‰Šå³°å¡«è°·ã€é›†ç¾¤æµé‡æ§åˆ¶ã€å®æ—¶ç†”æ–­ç­‰åœºæ™¯ä¸­ï¼Œä»å¤šä¸ªç»´åº¦ä¿éšœæ‚¨çš„ä¸šåŠ¡ç¨³å®šæ€§ã€‚</p><p>åœ¨ä¸€ä¸ªå¸¸è§çš„åˆ†å¸ƒå¼åº”ç”¨ä¸­ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ä¸€ä¸ªè¯·æ±‚å…ˆé€šè¿‡ç»ˆç«¯åˆ°è¾¾ Gatewayï¼Œå†ç»è¿‡é˜²ç«å¢™å’Œç½‘ç»œè´Ÿè½½å‡è¡¡ï¼Œå…¶ä¸­è¿˜åŒ…æ‹¬è°ƒç”¨ä¸‹æ¸¸çš„å…¶å®ƒæœåŠ¡å’Œç¬¬ä¸‰æ–¹åº”ç”¨ï¼Œæ‰èƒ½åˆ°è¾¾å‰ç«¯ç½‘ç»œæœåŠ¡ã€‚AHAS åº”ç”¨æµæ§é™çº§åœ¨ä¸åŒçš„å±‚æ¬¡ä»¥æµé‡ä¸ºåˆ‡é¢æä¾›ç§’çº§å®æ—¶çš„æµé‡åˆ†æï¼ˆä¾‹å¦‚åœ¨å®¢æˆ·ç«¯å±‚æä¾›æµé‡å®æ—¶ç›‘æ§å’Œæ°´ä½è¯Šæ–­åˆ†æåŠŸèƒ½ï¼‰ï¼Œå¸®åŠ©è¿ç»´äººå‘˜é‡‡å–é’ˆå¯¹æ€§çš„é˜²æŠ¤æªæ–½ï¼Œå…¨æ–¹ä½åœ°ä¿æŠ¤åº”ç”¨çš„ç¨³å®šæ€§ã€‚</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/img/stu/12213538915.png" alt="image" title="SentinelæœåŠ¡">                </div>                <div class="image-caption">SentinelæœåŠ¡</div>            </figure><h3 id="åŠŸèƒ½ç‰¹æ€§"><a href="#åŠŸèƒ½ç‰¹æ€§" class="headerlink" title="åŠŸèƒ½ç‰¹æ€§"></a>åŠŸèƒ½ç‰¹æ€§</h3><p>ç§’çº§æµé‡åˆ†æåŠŸèƒ½ï¼ŒåŠ¨æ€è§„åˆ™å®æ—¶æ¨é€ã€‚<br>ä¸“ä¸šå¤šæ ·åŒ–çš„é˜²æŠ¤æ‰‹æ®µï¼š</p><ul><li>å…¥å£æµé‡æ§åˆ¶ï¼šæŒ‰ç…§æœåŠ¡å®¹é‡è¿›è¡Œæµé‡æ§åˆ¶ï¼Œå¸¸ç”¨äºåº”ç”¨å…¥å£ï¼Œä¾‹å¦‚ï¼š Gatewayã€å‰ç«¯åº”ç”¨ã€æœåŠ¡æä¾›æ–¹ç­‰ã€‚</li><li>çƒ­ç‚¹éš”ç¦»ï¼šå°†çƒ­ç‚¹å’Œæ™®é€šæµé‡éš”ç¦»å‡ºæ¥ï¼Œé¿å…æ— æ•ˆçƒ­ç‚¹æŠ¢å æ­£å¸¸æµé‡çš„å®¹é‡ã€‚</li><li>å¯¹ä¾èµ–æ–¹éš”ç¦» / é™çº§ï¼šå¯¹åº”ç”¨å’Œåº”ç”¨ä¹‹é—´ã€åº”ç”¨å†…éƒ¨é‡‡ç”¨éš”ç¦» / é™çº§æ‰‹æ®µï¼Œå°†ä¸ç¨³å®šçš„ä¾èµ–çš„å¯¹åº”ç”¨çš„å½±å“å‡è‡³æœ€å°ï¼Œä»è€Œä¿è¯åº”ç”¨çš„ç¨³å®šæ€§ã€‚</li><li>ç³»ç»Ÿé˜²æŠ¤ï¼šSentinelå¯ä»¥æ ¹æ®ç³»ç»Ÿçš„èƒ½åŠ›ï¼ˆä¾‹å¦‚ Loadã€CPU ä½¿ç”¨ç‡ç­‰ï¼‰æ¥åŠ¨æ€è°ƒèŠ‚å…¥å£çš„æµé‡ï¼Œä¿è¯ç³»ç»Ÿç¨³å®šæ€§ã€‚<br>å®æ—¶çš„å•æœºç›‘æ§èƒ½åŠ›ï¼Œå¼ºå¤§çš„èšåˆç›‘æ§å’Œå†å²ç›‘æ§æŸ¥è¯¢èƒ½åŠ›ã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;Sentinelä»¥æµé‡ä¸ºåˆ‡å…¥ç‚¹ï¼Œä»æµé‡æ§åˆ¶ã€ç†”æ–­é™çº§ã€ç³»ç»Ÿä¿æŠ¤ç­‰å¤šä¸ªç»´åº¦æ¥å¸®åŠ©æ‚¨ä¿éšœæœåŠ¡çš„ç¨³å®šæ€§ï¼Œæä¾›æ›´ä¸“ä¸šç¨³å®šçš„æµé‡é˜²æŠ¤æ‰‹æ®µã€ç§’çº§çš„æµé‡æ°´ä½åˆ†å¸ƒåˆ†æåŠŸèƒ½ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;é¡¹ç›®åœ°å€ï¼š&lt;a href=&quot;https://gi
      
    
    </summary>
    
    
    
      <category term="java" scheme="https://github.com/weiecho/tags/java/"/>
    
      <category term="å¼€æºå·¥å…·" scheme="https://github.com/weiecho/tags/%E5%BC%80%E6%BA%90%E5%B7%A5%E5%85%B7/"/>
    
      <category term="æµæ§é™çº§" scheme="https://github.com/weiecho/tags/%E6%B5%81%E6%8E%A7%E9%99%8D%E7%BA%A7/"/>
    
      <category term="[object Object]" scheme="https://github.com/weiecho/tags/object-Object/"/>
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="https://github.com/weiecho/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>Sharding-dbæ¥å…¥ä½¿ç”¨è¯´æ˜</title>
    <link href="https://github.com/weiecho/2020/03/02/doc_1113/"/>
    <id>https://github.com/weiecho/2020/03/02/doc_1113/</id>
    <published>2020-03-02T04:26:35.000Z</published>
    <updated>2020-07-03T02:31:44.370Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>ShardingSphereæ˜¯å¼€æºçš„åˆ†å¸ƒå¼æ•°æ®åº“ä¸­é—´ä»¶è§£å†³æ–¹æ¡ˆç»„æˆçš„ç”Ÿæ€åœˆï¼Œç”±Sharding-jdbcã€Sharding-Proxyç­‰ç»„æˆï¼Œæä¾›æ ‡å‡†åŒ–çš„æ•°æ®åˆ†ç‰‡ã€å®‰å…¨æ§åˆ¶ã€åˆ†å¸ƒå¼äº‹åŠ¡å’Œæ•°æ®åº“æ²»ç†åŠŸèƒ½ï¼Œæœ¬æ–‡ä¸»è¦ä»‹ç»sharding-dbåœ¨é¡¹ç›®ä¸­çš„ä½¿ç”¨ã€‚</p><p>Sharding-dbæ˜¯å¯¹Sharding-jdbcçš„åŠŸèƒ½å°è£…ï¼Œæ–¹ä¾¿åŠŸèƒ½çš„å¯¹æ¥ï¼Œç»Ÿä¸€é¡¹ç›®å›¢é˜Ÿå¯¹æ•°æ®æºçš„å¯¹æ¥</p></blockquote><p>é¡¹ç›®åœ°å€ï¼š<a href="https://github.com/weiecho/sharding-db">sharding-db</a></p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/img/doc/20719175617.png" alt="image" title="Sharding-jdbcåˆ†ç‰‡è¿‡ç¨‹">                </div>                <div class="image-caption">Sharding-jdbcåˆ†ç‰‡è¿‡ç¨‹</div>            </figure><p>Sharding-jdbcæ ¹æ®SQLè¯­å¥è¿›è¡Œè¯è¯­è§£æï¼Œä¸Šä¸‹æ–‡åŒ¹é…æ•°æ®åº“å’Œè¡¨çš„åˆ†ç‰‡ç­–ç•¥ç”Ÿæˆè·¯ç”±è·¯å¾„ï¼Œå°†åˆ†è¡¨é…ç½®ä¸­çš„é€»è¾‘åº“è¡¨æ”¹å†™ä¸ºçœŸå®åº“è¡¨SQLè¯­å¥ï¼Œå‘é€åˆ°åº•å±‚æ•°æ®æºæ‰§è¡Œï¼Œå°†ä»å„ä¸ªæ•°æ®èŠ‚ç‚¹è·å–çš„å¤šæ•°æ®ç»“æœé›†ï¼Œç»„åˆæˆä¸ºä¸€ä¸ªç»“æœé›†å¹¶æ­£ç¡®çš„è¿”å›è‡³è¯·æ±‚å®¢æˆ·ç«¯ã€‚</p><p>POMé…ç½®</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>cn.weiecho<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>sharding-db<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="Databaseé…ç½®"><a href="#Databaseé…ç½®" class="headerlink" title="Databaseé…ç½®"></a>Databaseé…ç½®</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//å•æ•°æ®æºæ¨¡å¼</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DatabaseConfig</span> <span class="keyword">extends</span> <span class="title">DatabaseSingletonConfigurator</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä¸»ä»æ•°æ®æºæ¨¡å¼</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DatabaseConfig</span> <span class="keyword">extends</span> <span class="title">DatabaseMasterSlaveConfigurator</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ†è¡¨æ•°æ®æºæ¨¡å¼</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DatabaseConfig</span> <span class="keyword">extends</span> <span class="title">DatabaseShardingConfigurator</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="é…ç½®æ–‡ä»¶"><a href="#é…ç½®æ–‡ä»¶" class="headerlink" title="é…ç½®æ–‡ä»¶"></a>é…ç½®æ–‡ä»¶</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">sharding.jdbc:</span><br><span class="line">  default-data-source-name: ms_ds_0</span><br><span class="line">  data-sources:</span><br><span class="line">    ds_master:</span><br><span class="line">      driver-class-name: com.mysql.cj.jdbc.Driver</span><br><span class="line">      type: com.zaxxer.hikari.HikariDataSource</span><br><span class="line">      jdbc-url: jdbc:mysql://127.0.0.1:3306/test_db?autoReconnect=true&amp;useUnicode=true&amp;characterEncoding=utf8&amp;zeroDateTimeBehavior=convertToNull</span><br><span class="line">      username: root</span><br><span class="line">      password: root</span><br><span class="line">      initial-size: 1</span><br><span class="line">      minimum-idle: 3</span><br><span class="line">      maximum-pool-size: 20</span><br><span class="line">      idle-timeout: 60000</span><br><span class="line">      max-lifetime: 180000</span><br><span class="line">      connection-test-query: select 1</span><br><span class="line">      test-while-idle: true</span><br><span class="line">      test-on-borrow: true</span><br><span class="line">      connection-init-sql: set names utf8mb4</span><br><span class="line">    ds_slave:</span><br><span class="line">      driver-class-name: com.mysql.cj.jdbc.Driver</span><br><span class="line">      type: com.zaxxer.hikari.HikariDataSource</span><br><span class="line">      jdbc-url: jdbc:mysql://127.0.0.1:3307/test_db?autoReconnect=true&amp;useUnicode=true&amp;characterEncoding=utf8&amp;zeroDateTimeBehavior=convertToNull</span><br><span class="line">      username: root</span><br><span class="line">      password: root</span><br><span class="line">      initial-size: 1</span><br><span class="line">      minimum-idle: 3</span><br><span class="line">      maximum-pool-size: 20</span><br><span class="line">      idle-timeout: 60000</span><br><span class="line">      max-lifetime: 180000</span><br><span class="line">      connection-test-query: select 1</span><br><span class="line">      test-while-idle: true</span><br><span class="line">      test-on-borrow: true</span><br><span class="line">      connection-init-sql: set names utf8mb4</span><br><span class="line">  master-slave-rules:</span><br><span class="line">    - name: ms_ds_0</span><br><span class="line">      master-data-source-name: ds_master</span><br><span class="line">      slave-data-source-names: ds_slave</span><br><span class="line">      load-balance-strategy: round_robin</span><br></pre></td></tr></table></figure><h3 id="åˆ†è¡¨ç­–ç•¥é…ç½®"><a href="#åˆ†è¡¨ç­–ç•¥é…ç½®" class="headerlink" title="åˆ†è¡¨ç­–ç•¥é…ç½®"></a>åˆ†è¡¨ç­–ç•¥é…ç½®</h3><p>é‡å†™DatabaseShardingConfigurator çš„åˆ†è¡¨ç­–ç•¥å®ç°ç›¸å…³åŠŸèƒ½</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * é…ç½®åˆ†è¡¨ç­–ç•¥TableRule</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Collection&lt;TableRuleConfiguration&gt; <span class="title">tableRuleConfigs</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> Collections.emptyList();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * é…ç½®ç»‘å®šè¡¨åˆ†ç»„BindingTable</span></span><br><span class="line"><span class="comment"> * å…³è”å¤šè¡¨æŸ¥è¯¢çš„æ—¶å€™é¿å…ç¬›å¡å°”ç§¯çš„ç»„åˆå‡ºç°</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Collection&lt;String&gt; <span class="title">bindingTableGroups</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> Collections.emptyList();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ•°æ®å®‰å…¨é…ç½®ï¼ˆè„±æ•ï¼‰"><a href="#æ•°æ®å®‰å…¨é…ç½®ï¼ˆè„±æ•ï¼‰" class="headerlink" title="æ•°æ®å®‰å…¨é…ç½®ï¼ˆè„±æ•ï¼‰"></a>æ•°æ®å®‰å…¨é…ç½®ï¼ˆè„±æ•ï¼‰</h3><p>æ•æ„Ÿæ•°æ®è„±æ•ï¼Œé‡å†™DatabaseShardingConfiguratorçš„åŠ å¯†è§„åˆ™å®ç°ç›¸å…³åŠŸèƒ½</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ•°æ®è„±æ•ç­–ç•¥EncryptRule</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> EncryptRuleConfiguration <span class="title">encryptRuleConfig</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å¹¿æ’­è¡¨ç­–ç•¥"><a href="#å¹¿æ’­è¡¨ç­–ç•¥" class="headerlink" title="å¹¿æ’­è¡¨ç­–ç•¥"></a>å¹¿æ’­è¡¨ç­–ç•¥</h3><p>ç”¨äºæ•°æ®æºåˆ†ç‰‡ä¸‹ï¼Œæ¯ä¸ªæ•°æ®æºéƒ½ä¿å­˜ç›¸åŒè¡¨å…¨é‡æ•°æ®ï¼Œå¦‚å­—å…¸è¡¨ï¼Œé…ç½®è¡¨ç­‰</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * é…ç½®å¹¿æ’­è¡¨åˆ—è¡¨BroadcastTables</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Collection&lt;String&gt; <span class="title">broadcastTables</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> Collections.emptyList();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å¼ºåˆ¶è·¯ç”±è‡³ä¸»åº“"><a href="#å¼ºåˆ¶è·¯ç”±è‡³ä¸»åº“" class="headerlink" title="å¼ºåˆ¶è·¯ç”±è‡³ä¸»åº“"></a>å¼ºåˆ¶è·¯ç”±è‡³ä¸»åº“</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">HintManager hintManager = HintManager.getInstance();</span><br><span class="line">hintManager.setMasterRouteOnly();</span><br></pre></td></tr></table></figure><p>æ¨èä½¿ç”¨try with resourceæ–¹å¼</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> (HintManager hintManager = HintManager.getInstance()) &#123;</span><br><span class="line">    hintManager.setMasterRouteOnly();</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å¼ºåˆ¶è·¯ç”±è‡³æŒ‡å®šè¯»åº“"><a href="#å¼ºåˆ¶è·¯ç”±è‡³æŒ‡å®šè¯»åº“" class="headerlink" title="å¼ºåˆ¶è·¯ç”±è‡³æŒ‡å®šè¯»åº“"></a>å¼ºåˆ¶è·¯ç”±è‡³æŒ‡å®šè¯»åº“</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">HintManager hintManager = HintManager.getInstance();</span><br><span class="line">hintManager.setDatabaseShardingValue(<span class="number">1</span>);</span><br></pre></td></tr></table></figure><p>æ¨èä½¿ç”¨try with resourceæ–¹å¼</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> (HintManager hintManager = HintManager.getInstance()) &#123;</span><br><span class="line">    hintManager.setDatabaseShardingValue(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;ShardingSphereæ˜¯å¼€æºçš„åˆ†å¸ƒå¼æ•°æ®åº“ä¸­é—´ä»¶è§£å†³æ–¹æ¡ˆç»„æˆçš„ç”Ÿæ€åœˆï¼Œç”±Sharding-jdbcã€Sharding-Proxyç­‰ç»„æˆï¼Œæä¾›æ ‡å‡†åŒ–çš„æ•°æ®åˆ†ç‰‡ã€å®‰å…¨æ§åˆ¶ã€åˆ†å¸ƒå¼äº‹åŠ¡å’Œæ•°æ®åº“æ²»ç†åŠŸèƒ½ï¼Œæœ¬æ–‡ä¸»è¦ä»‹ç»sharding-dbåœ¨é¡¹ç›®ä¸­çš„ä½¿
      
    
    </summary>
    
    
      <category term="å¼€æºæ–‡æ¡£" scheme="https://github.com/weiecho/categories/%E5%BC%80%E6%BA%90%E6%96%87%E6%A1%A3/"/>
    
    
      <category term="java" scheme="https://github.com/weiecho/tags/java/"/>
    
      <category term="æ•°æ®æº" scheme="https://github.com/weiecho/tags/%E6%95%B0%E6%8D%AE%E6%BA%90/"/>
    
      <category term="åˆ†åº“åˆ†è¡¨" scheme="https://github.com/weiecho/tags/%E5%88%86%E5%BA%93%E5%88%86%E8%A1%A8/"/>
    
      <category term="shardingsphere" scheme="https://github.com/weiecho/tags/shardingsphere/"/>
    
  </entry>
  
  <entry>
    <title>ä¿®å¤shardingsphere-4.0.0ä¸èƒ½æ­£å¸¸é…ç½®é—®é¢˜</title>
    <link href="https://github.com/weiecho/2019/12/10/exp_1115/"/>
    <id>https://github.com/weiecho/2019/12/10/exp_1115/</id>
    <published>2019-12-10T13:21:36.000Z</published>
    <updated>2020-07-03T02:32:01.251Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ç›®å‰å®˜æ–¹å·²ç»é‚€è¯·æˆ‘è°ƒæ•´äº†è¯´æ˜æ–‡æ¡£ï¼Œæ–‡æ¡£å·²ç»å’Œæœ€æ–°ä»£ç ä¸€è‡´ï¼</span><br><span class="line"></span><br><span class="line">å¦‚æœæ‚¨å‡†å¤‡è‡ªå·±è°ƒæ•´é…ç½®æ³¨å…¥æ–¹å¼ï¼Œå¯ä»¥å‚è€ƒæœ¬æ¬¡ä¿®å¤è¿‡ç¨‹ã€‚</span><br></pre></td></tr></table></figure><p>Sharingsphereåœ¨æ ¹æ®å®˜æ–¹é…ç½®ä¸ºMaster-slave rule configurationæ¨¡å¼æ—¶å¯åŠ¨ä¼šæŠ¥é”™å¦‚ä¸‹ï¼š</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/img/exp/1721717-ad259ae04f5772a5.png" alt="image" title="Master-slave">                </div>                <div class="image-caption">Master-slave</div>            </figure><p>åŸå› åœ¨4.0.0-xç‰ˆæœ¬ä¸­ï¼Œå°†ä»£ç è¿ç§»è‡³apacheæ—¶ï¼Œå°ä¼™ä¼´å‚²å¨‡çš„å°†å‚æ•°å®ç°æ”¹æˆäº†å¦‚ä¸‹ï¼ŒåŒæ—¶æ²¡æœ‰äº†æ— å‚æ•°æ„é€ å‡½æ•°ã€‚</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/img/exp/1721717-ca8d34c791674f3b.png" alt="image" title="æ–°ç‰ˆæœ¬MasterSlaveRuleConfigurationä»£ç ">                </div>                <div class="image-caption">æ–°ç‰ˆæœ¬MasterSlaveRuleConfigurationä»£ç </div>            </figure><p>å†çœ‹çœ‹3.0.xåŸç‰ˆçš„æ—§ä»£ç å®ç°çŠ¶å†µ</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/img/exp/1721717-06426fd62bfa2564.png" alt="image" title="æ—§ç‰ˆæœ¬MasterSlaveRuleConfigurationä»£ç ">                </div>                <div class="image-caption">æ—§ç‰ˆæœ¬MasterSlaveRuleConfigurationä»£ç </div>            </figure><p>å®˜æ–¹ç¤ºä¾‹å±…ç„¶è¿˜æœ‰æ— å‚æ•°åˆ›å»ºçš„ç¤ºä¾‹ï¼Œè¯•é—®æ˜¯æ€ä¹ˆåšåˆ°çš„</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/img/exp/1721717-709903c299a77393.png" alt="image" title="shardingsphereå®˜æ–¹æ–‡æ¡£ç¤ºä¾‹">                </div>                <div class="image-caption">shardingsphereå®˜æ–¹æ–‡æ¡£ç¤ºä¾‹</div>            </figure><p>ä»è¿™ç‚¹çœ‹æœ‰è¢«æ”¹å†™å¿½ç•¥çš„é—®é¢˜ï¼ŒåŒæ—¶æŒ‰ç…§å®˜æ–¹é…ç½®ï¼Œå‡ºç°å¦‚ä¸Šçš„é…ç½®å¯åŠ¨æŠ¥é”™é—®é¢˜ï¼ï¼ï¼</p><h3 id="æˆ‘æ˜¯çŠ€åˆ©çš„åˆ†å‰²çº¿-â€”-ä¸‹é¢æ˜¯ç¡¬å†™è§£å†³æ–¹æ¡ˆ"><a href="#æˆ‘æ˜¯çŠ€åˆ©çš„åˆ†å‰²çº¿-â€”-ä¸‹é¢æ˜¯ç¡¬å†™è§£å†³æ–¹æ¡ˆ" class="headerlink" title="æˆ‘æ˜¯çŠ€åˆ©çš„åˆ†å‰²çº¿ â€”- ä¸‹é¢æ˜¯ç¡¬å†™è§£å†³æ–¹æ¡ˆ"></a>æˆ‘æ˜¯çŠ€åˆ©çš„åˆ†å‰²çº¿ â€”- ä¸‹é¢æ˜¯ç¡¬å†™è§£å†³æ–¹æ¡ˆ</h3><hr><p>åˆ›å»ºæ–°ç±»MasterSlaveRuleConfig.javaï¼Œå¤åˆ¶å®˜æ–¹æ–°ç‰ˆæœ¬MasterSlaveRuleConfigurationï¼Œæ”¹ä¸ºå¦‚ä¸‹ï¼š</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/img/exp/1721717-5366273ee48d6345.png" alt="image" title="æ”¹å†™MasterSlaveRuleConfiguration">                </div>                <div class="image-caption">æ”¹å†™MasterSlaveRuleConfiguration</div>            </figure><p>1ã€@Getteræ”¹ä¸º@Dataï¼Œæ”¯æŒé…ç½®è¯»å†™</p><p>2ã€å»æ‰å†…éƒ¨privateå¯¹è±¡çš„finalé™å®š</p><p>3ã€åŠ å…¥MasterSlaveRuleConfigurationæ— å‚æ•°æ„é€ å‡½æ•°</p><p>é…ç½®æ”¹é€ å®Œæˆï¼Œä¸‹é¢æ˜¯è°ƒæ•´é…ç½®å‡½æ•°ï¼š</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/img/exp/1721717-21ae73c993b20185.png" alt="image" title="é‡å†™é…ç½®MasterSlaveRuleConfiguration">                </div>                <div class="image-caption">é‡å†™é…ç½®MasterSlaveRuleConfiguration</div>            </figure><p>MasterSlaveRuleConfigé…ç½®åœ¨ sharding.master-slave-rule ä¸‹é¢ï¼Œå’Œå®˜æ–¹ä¸€è‡´ã€‚</p><p>æœåŠ¡å¯åŠ¨ï½ï½ï½ï½ï½  happy time ğŸ˜„</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class
      
    
    </summary>
    
    
      <category term="ç»éªŒåˆ†äº«" scheme="https://github.com/weiecho/categories/%E7%BB%8F%E9%AA%8C%E5%88%86%E4%BA%AB/"/>
    
    
      <category term="shardingsphere" scheme="https://github.com/weiecho/tags/shardingsphere/"/>
    
      <category term="spring" scheme="https://github.com/weiecho/tags/spring/"/>
    
      <category term="æ¶æ„è®¾è®¡" scheme="https://github.com/weiecho/tags/%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/"/>
    
  </entry>
  
  <entry>
    <title>ä¹æª¬æ¡†æ¶ä¹‹rabbitMQçš„è§£è€¦å®ç°æ–¹å¼</title>
    <link href="https://github.com/weiecho/2019/12/02/doc_1111/"/>
    <id>https://github.com/weiecho/2019/12/02/doc_1111/</id>
    <published>2019-12-02T02:34:12.000Z</published>
    <updated>2020-07-03T02:05:02.107Z</updated>
    
    <content type="html"><![CDATA[<p>é¡¹ç›®åœ°å€ï¼š<a href="https://github.com/weiecho/lemon-rabbitmq">lemon-rabbitmq</a></p><p>lemon-rabbitmq   æ¶ˆæ¯ç”Ÿäº§ç«¯</p><p>lemon-rabbitmq-protocol   æ¶ˆæ¯åè®®å±‚</p><p>lemon-rabbitmq-consumer   æ¶ˆæ¯æ¶ˆè´¹ç«¯</p><hr><h4 id="æ¶ˆæ¯åè®®å±‚"><a href="#æ¶ˆæ¯åè®®å±‚" class="headerlink" title="æ¶ˆæ¯åè®®å±‚"></a>æ¶ˆæ¯åè®®å±‚</h4><p>é€šè¿‡Jackson2åºåˆ—åŒ–/ååºåˆ—åŒ–ï¼Œå®ç°æ¶ˆæ¯ä¼ é€’å’Œå¯¹è±¡æ¥æ”¶</p><h4 id="æ¶ˆæ¯ç”Ÿäº§ç«¯"><a href="#æ¶ˆæ¯ç”Ÿäº§ç«¯" class="headerlink" title="æ¶ˆæ¯ç”Ÿäº§ç«¯"></a>æ¶ˆæ¯ç”Ÿäº§ç«¯</h4><p>1ã€é€šè¿‡å‘é€å¸¦æœ‰æ¶ˆè´¹ç«¯æœåŠ¡ç±»åç§°å’Œæ–¹æ³•è¯·æ±‚å¤´ï¼Œæ§åˆ¶æ¶ˆè´¹ç«¯è°ƒç”¨æ‰§è¡Œæ¶ˆè´¹å‘é€çš„ä¿¡æ¯</p><p>2ã€åˆ©ç”¨æ¶ˆæ¯å›è°ƒæ¥å£ConfirmCallbackç¡®ä¿æ¶ˆæ¯å®‰å…¨å‘é€è‡³brokeræœåŠ¡å™¨ï¼Œå¤„ç†æ•ˆç‡æ¯”äº‹ç‰©æ–¹å¼æ›´é«˜</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sendMessage</span><span class="params">(<span class="keyword">final</span> String serviceName, <span class="keyword">final</span> String serviceMethodName,<span class="keyword">final</span> String correlationId, Object request)</span> </span>&#123;</span><br><span class="line">   logger.info(<span class="string">"sendMessage [this.&#123;&#125;, serviceMethodName:&#123;&#125; serviceName:&#123;&#125; correlationId: &#123;&#125;]"</span>, <span class="keyword">this</span>.getClass(), serviceMethodName, serviceName, correlationId);</span><br><span class="line">   rabbitTemplate.setConfirmCallback(<span class="keyword">this</span>);</span><br><span class="line">   rabbitTemplate.setCorrelationKey(correlationId);</span><br><span class="line">   rabbitTemplate.convertAndSend(routingkey, request, <span class="keyword">new</span> MessagePostProcessor() &#123;            </span><br><span class="line">       <span class="meta">@Override</span></span><br><span class="line">          <span class="function"><span class="keyword">public</span> Message <span class="title">postProcessMessage</span><span class="params">(Message message)</span> <span class="keyword">throws</span> AmqpException </span>&#123;</span><br><span class="line">              message.getMessageProperties().setAppId(appId);</span><br><span class="line">              message.getMessageProperties().setTimestamp(<span class="keyword">new</span> Date());</span><br><span class="line">              message.getMessageProperties().setMessageId(UUID.randomUUID().toString());</span><br><span class="line">              message.getMessageProperties().setCorrelationId(correlationId.getBytes());</span><br><span class="line">              message.getMessageProperties().setHeader(<span class="string">"ServiceMethodName"</span>, serviceMethodName);</span><br><span class="line">              message.getMessageProperties().setHeader(<span class="string">"ServiceName"</span>, serviceName);</span><br><span class="line">              <span class="keyword">return</span> message;</span><br><span class="line">          &#125;</span><br><span class="line">   &#125;, <span class="keyword">new</span> CorrelationData(correlationId));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æ¶ˆæ¯æ¶ˆè´¹ç«¯"><a href="#æ¶ˆæ¯æ¶ˆè´¹ç«¯" class="headerlink" title="æ¶ˆæ¯æ¶ˆè´¹ç«¯"></a>æ¶ˆæ¯æ¶ˆè´¹ç«¯</h4><p>1ã€ç›‘å¬MQæ¶ˆæ¯ï¼Œåˆ©ç”¨method.invokeè°ƒç”¨æŒ‡å®šçš„æœåŠ¡ç±»åç§°å’Œæ–¹æ³•ï¼Œæ¶ˆè´¹æ¥æ”¶åˆ°çš„æ¶ˆæ¯</p><p>2ã€ä½¿ç”¨Ack/Nackæ‰‹åŠ¨ç¡®è®¤æ¶ˆæ¯å¤„ç†çŠ¶æ€ï¼Œä¿è¯brokeræ¶ˆæ¯è¢«æ­£ç¡®æ¶ˆè´¹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onMessage</span><span class="params">(Message message, Channel channel)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    System.out.println(<span class="string">"----- received"</span> + message.getMessageProperties());</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">Object msg = messageConverter.fromMessage(message);</span><br><span class="line"><span class="keyword">if</span> (!appId.equals(message.getMessageProperties().getAppId()))&#123;</span><br><span class="line">        channel.basicNack(message.getMessageProperties().getDeliveryTag(), <span class="keyword">false</span>, <span class="keyword">false</span>);</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> SecurityException(<span class="string">"éæ³•åº”ç”¨appId:"</span> + message.getMessageProperties().getAppId());</span><br><span class="line">&#125;</span><br><span class="line">Object service = ctx.getBean(message.getMessageProperties().getHeaders().get(<span class="string">"ServiceName"</span>).toString());</span><br><span class="line">String serviceMethodName = message.getMessageProperties().getHeaders().get(<span class="string">"ServiceMethodName"</span>).toString();</span><br><span class="line">Method method = service.getClass().getMethod(serviceMethodName, msg.getClass());</span><br><span class="line">       method.invoke(service, msg);</span><br><span class="line">       <span class="comment">//ç¡®è®¤æ¶ˆæ¯æˆåŠŸæ¶ˆè´¹</span></span><br><span class="line">       channel.basicAck(message.getMessageProperties().getDeliveryTag(), <span class="keyword">false</span>);</span><br><span class="line">&#125; <span class="keyword">catch</span> (NoSuchMethodException | SecurityException | IllegalAccessException | IllegalArgumentException | InvocationTargetException e) &#123;</span><br><span class="line">System.out.println(<span class="string">"------ err"</span>+ e.getMessage());</span><br><span class="line">       channel.basicNack(message.getMessageProperties().getDeliveryTag(), <span class="keyword">false</span>, <span class="keyword">false</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;é¡¹ç›®åœ°å€ï¼š&lt;a href=&quot;https://github.com/weiecho/lemon-rabbitmq&quot;&gt;lemon-rabbitmq&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;lemon-rabbitmq   æ¶ˆæ¯ç”Ÿäº§ç«¯&lt;/p&gt;
&lt;p&gt;lemon-rabbitmq-protocol 
      
    
    </summary>
    
    
      <category term="å¼€æºæ–‡æ¡£" scheme="https://github.com/weiecho/categories/%E5%BC%80%E6%BA%90%E6%96%87%E6%A1%A3/"/>
    
    
      <category term="java" scheme="https://github.com/weiecho/tags/java/"/>
    
      <category term="springboot" scheme="https://github.com/weiecho/tags/springboot/"/>
    
      <category term="mq" scheme="https://github.com/weiecho/tags/mq/"/>
    
      <category term="ack/nack" scheme="https://github.com/weiecho/tags/ack-nack/"/>
    
  </entry>
  
  <entry>
    <title>ä»£ç ä¹ æƒ¯åœ¨ç»†èŠ‚</title>
    <link href="https://github.com/weiecho/2019/11/05/exp_1112/"/>
    <id>https://github.com/weiecho/2019/11/05/exp_1112/</id>
    <published>2019-11-05T07:12:12.000Z</published>
    <updated>2020-07-03T02:04:19.223Z</updated>
    
    <content type="html"><![CDATA[<p>åˆ†å¸ƒå¼æœåŠ¡æ¡†æ¶ç»´æŠ¤äººå‘˜å¢å¤šæˆ–å˜æ›´ï¼Œä¼šå‡ºç°è´¨é‡çš„ä¸‹é™çš„é—®é¢˜ï¼Œå°¤å…¶æ˜¯æ¡†æ¶ä»£ç ï¼Œè¦æ—¶åˆ»ç‰¢è®°çš„ç»†èŠ‚ã€‚å¯èƒ½ä¸‹é¢è¦è®²çš„è¿™äº›ï¼Œå¤§å®¶éƒ½ä¼šè§‰å¾—å¾ˆç®€å•ï¼Œå¾ˆåŸºç¡€ï¼Œä½†è¦åšåˆ°æ—¶åˆ»ç‰¢è®°ã€‚åœ¨æ¯ä¸€è¡Œä»£ç ä¸­éƒ½è€ƒè™‘è¿™äº›å› ç´ ï¼Œæ˜¯éœ€è¦å¾ˆå¤§è€å¿ƒçš„ã€‚</p><h3 id="é˜²æ­¢ç©ºæŒ‡é’ˆå’Œä¸‹æ ‡è¶Šç•Œ"><a href="#é˜²æ­¢ç©ºæŒ‡é’ˆå’Œä¸‹æ ‡è¶Šç•Œ" class="headerlink" title="é˜²æ­¢ç©ºæŒ‡é’ˆå’Œä¸‹æ ‡è¶Šç•Œ"></a>é˜²æ­¢ç©ºæŒ‡é’ˆå’Œä¸‹æ ‡è¶Šç•Œ</h3><p>è¿™æ˜¯æˆ‘æœ€ä¸å–œæ¬¢çœ‹åˆ°çš„å¼‚å¸¸ï¼Œå°¤å…¶åœ¨æ ¸å¿ƒæ¡†æ¶ä¸­ï¼Œæˆ‘æ›´æ„¿çœ‹åˆ°ä¿¡æ¯è¯¦ç»†çš„å‚æ•°ä¸åˆæ³•å¼‚å¸¸ã€‚è¿™ä¹Ÿæ˜¯ä¸€ä¸ªç¼–å†™å¥å£®ç¨‹åºçš„å¼€å‘äººå‘˜ï¼Œåœ¨å†™æ¯ä¸€è¡Œä»£ç éƒ½åº”åœ¨æ½œæ„è¯†ä¸­é˜²æ­¢çš„å¼‚å¸¸ã€‚åŸºæœ¬ä¸Šè¦èƒ½ç¡®ä¿æ¯ä¸€æ¬¡å†™å®Œçš„ä»£ç ï¼Œåœ¨ä¸æµ‹è¯•çš„æƒ…å†µä¸‹ï¼Œéƒ½ä¸ä¼šå‡ºç°è¿™ä¸¤ä¸ªå¼‚å¸¸æ‰ç®—åˆæ ¼ã€‚</p><h3 id="ä¿è¯çº¿ç¨‹å®‰å…¨æ€§å’Œå¯è§æ€§"><a href="#ä¿è¯çº¿ç¨‹å®‰å…¨æ€§å’Œå¯è§æ€§" class="headerlink" title="ä¿è¯çº¿ç¨‹å®‰å…¨æ€§å’Œå¯è§æ€§"></a>ä¿è¯çº¿ç¨‹å®‰å…¨æ€§å’Œå¯è§æ€§</h3><p>å¯¹äºæ¡†æ¶çš„å¼€å‘äººå‘˜ï¼Œå¯¹çº¿ç¨‹å®‰å…¨æ€§å’Œå¯è§æ€§çš„æ·±å…¥ç†è§£æ˜¯æœ€åŸºæœ¬çš„è¦æ±‚ã€‚éœ€è¦å¼€å‘äººå‘˜ï¼Œåœ¨å†™æ¯ä¸€è¡Œä»£ç æ—¶éƒ½åº”åœ¨æ½œæ„è¯†ä¸­ç¡®ä¿å…¶æ­£ç¡®æ€§ã€‚å› ä¸ºè¿™ç§ä»£ç ï¼Œåœ¨å°å¹¶å‘ä¸‹åšåŠŸèƒ½æµ‹è¯•æ—¶ï¼Œä¼šæ˜¾å¾—å¾ˆæ­£å¸¸ã€‚ä½†åœ¨é«˜å¹¶å‘ä¸‹å°±ä¼šå‡ºç°è«æ˜å…¶å¦™çš„é—®é¢˜ï¼Œè€Œä¸”åœºæ™¯å¾ˆéš¾é‡ç°ï¼Œæéš¾æ’æŸ¥ã€‚</p><h3 id="å°½æ—©å¤±è´¥å’Œå‰ç½®æ–­è¨€"><a href="#å°½æ—©å¤±è´¥å’Œå‰ç½®æ–­è¨€" class="headerlink" title="å°½æ—©å¤±è´¥å’Œå‰ç½®æ–­è¨€"></a>å°½æ—©å¤±è´¥å’Œå‰ç½®æ–­è¨€</h3><p>å°½æ—©å¤±è´¥ä¹Ÿåº”è¯¥æˆä¸ºæ½œæ„è¯†ï¼Œåœ¨æœ‰ä¼ å…¥å‚æ•°å’ŒçŠ¶æ€å˜åŒ–æ—¶ï¼Œå‡åœ¨å…¥å£å¤„å…¨éƒ¨æ–­è¨€ã€‚ä¸€ä¸ªä¸åˆæ³•çš„å€¼å’ŒçŠ¶æ€ï¼Œåœ¨ç¬¬ä¸€æ—¶é—´å°±åº”æŠ¥é”™ï¼Œè€Œä¸æ˜¯ç­‰åˆ°è¦ç”¨æ—¶æ‰æŠ¥é”™ã€‚å› ä¸ºç­‰åˆ°è¦ç”¨æ—¶ï¼Œå¯èƒ½å‰é¢å·²ç»ä¿®æ”¹å…¶å®ƒç›¸å…³çŠ¶æ€ï¼Œè€Œåœ¨ç¨‹åºä¸­å¾ˆå°‘æœ‰äººå»å¤„ç†å›æ»šé€»è¾‘ã€‚è¿™æ ·æŠ¥é”™åï¼Œå…¶å®å†…éƒ¨çŠ¶æ€å¯èƒ½å·²ç»æ··ä¹±ï¼Œææ˜“åœ¨ä¸€ä¸ªéšè”½åˆ†æ”¯ä¸Šå¼•å‘ç¨‹åºä¸å¯æ¢å¤ã€‚</p><h3 id="åˆ†ç¦»å¯é æ“ä½œå’Œä¸å¯é æ“ä½œ"><a href="#åˆ†ç¦»å¯é æ“ä½œå’Œä¸å¯é æ“ä½œ" class="headerlink" title="åˆ†ç¦»å¯é æ“ä½œå’Œä¸å¯é æ“ä½œ"></a>åˆ†ç¦»å¯é æ“ä½œå’Œä¸å¯é æ“ä½œ</h3><p>è¿™é‡Œçš„å¯é æ˜¯ç‹­ä¹‰çš„æŒ‡æ˜¯å¦ä¼šæŠ›å‡ºå¼‚å¸¸æˆ–å¼•èµ·çŠ¶æ€ä¸ä¸€è‡´ï¼Œæ¯”å¦‚ï¼Œå†™å…¥ä¸€ä¸ªçº¿ç¨‹å®‰å…¨çš„ Mapï¼Œå¯ä»¥è®¤ä¸ºæ˜¯å¯é çš„ï¼Œè€Œå†™å…¥æ•°æ®åº“ç­‰ï¼Œå¯ä»¥è®¤ä¸ºæ˜¯ä¸å¯é çš„ã€‚å¼€å‘äººå‘˜å¿…é¡»åœ¨å†™æ¯ä¸€è¡Œä»£ç æ—¶ï¼Œéƒ½æ³¨æ„å®ƒçš„å¯é æ€§ä¸å¦ï¼Œåœ¨ä»£ç ä¸­å°½é‡åˆ’åˆ†å¼€ï¼Œå¹¶å¯¹å¤±è´¥åšå¼‚å¸¸å¤„ç†ï¼Œå¹¶ä¸ºå®¹é”™ï¼Œè‡ªæˆ‘ä¿æŠ¤ï¼Œè‡ªåŠ¨æ¢å¤æˆ–åˆ‡æ¢ç­‰è¡¥å¿é€»è¾‘æä¾›æ¸…æ™°çš„åˆ‡å…¥ç‚¹ï¼Œä¿è¯åç»­å¢åŠ çš„ä»£ç ä¸è‡³äºæ”¾é”™ä½ç½®ï¼Œè€Œå¯¼è‡´åŸå…ˆçš„å®¹é”™å¤„ç†é™·å…¥æ··ä¹±ã€‚</p><h3 id="å¼‚å¸¸é˜²å¾¡ï¼Œä½†ä¸å¿½ç•¥å¼‚å¸¸"><a href="#å¼‚å¸¸é˜²å¾¡ï¼Œä½†ä¸å¿½ç•¥å¼‚å¸¸" class="headerlink" title="å¼‚å¸¸é˜²å¾¡ï¼Œä½†ä¸å¿½ç•¥å¼‚å¸¸"></a>å¼‚å¸¸é˜²å¾¡ï¼Œä½†ä¸å¿½ç•¥å¼‚å¸¸</h3><p>è¿™é‡Œè®²çš„å¼‚å¸¸é˜²å¾¡ï¼ŒæŒ‡çš„æ˜¯å¯¹éå¿…é¡»é€”å¾„ä¸Šçš„ä»£ç è¿›è¡Œæœ€å¤§é™åº¦çš„å®¹å¿ï¼ŒåŒ…æ‹¬ç¨‹åºä¸Šçš„ BUGï¼Œæ¯”å¦‚ï¼šè·å–ç¨‹åºçš„ç‰ˆæœ¬å·ï¼Œä¼šé€šè¿‡æ‰«æ Manifest å’Œ jar åŒ…åç§°æŠ“å–ç‰ˆæœ¬å·ï¼Œè¿™ä¸ªé€»è¾‘æ˜¯è¾…åŠ©æ€§çš„ï¼Œä½†ä»£ç å´ä¸å°‘ï¼Œåˆæ­¥æµ‹è¯•ä¹Ÿæ²¡å•¥é—®é¢˜ï¼Œä½†åº”è¯¥åœ¨æ•´ä¸ª getVersion() ä¸­åŠ ä¸Šä¸€ä¸ªå…¨å‡½æ•°çš„ try-catch æ‰“å°é”™è¯¯æ—¥å¿—ï¼Œå¹¶è¿”å›åŸºæœ¬ç‰ˆæœ¬ï¼Œå› ä¸º getVersion() å¯èƒ½å­˜åœ¨æœªçŸ¥ç‰¹å®šåœºæ™¯å¼‚å¸¸ï¼Œæˆ–è¢«å…¶ä»–çš„å¼€å‘äººå‘˜è¯¯ä¿®æ”¹é€»è¾‘(ä½†ä¸€èˆ¬äººå‘˜ä¸ä¼šå»æ‰ try-catch)ï¼Œè€Œå¦‚æœå®ƒæŠ›å‡ºå¼‚å¸¸ä¼šå¯¼è‡´ä¸»æµç¨‹å¼‚å¸¸ï¼Œè¿™æ˜¯æˆ‘ä»¬ä¸å¸Œæœ›çœ‹åˆ°çš„ã€‚ä½†è¿™é‡Œè¦æ§åˆ¶ä¸ªåº¦ï¼Œä¸è¦éšæ„ try-catchï¼Œæ›´ä¸è¦æ— å£°æ— æ¯çš„åƒæ‰å¼‚å¸¸ã€‚</p><h3 id="ç¼©å°å¯å˜åŸŸå’Œå°½é‡-final"><a href="#ç¼©å°å¯å˜åŸŸå’Œå°½é‡-final" class="headerlink" title="ç¼©å°å¯å˜åŸŸå’Œå°½é‡ final"></a>ç¼©å°å¯å˜åŸŸå’Œå°½é‡ final</h3><p>å¦‚æœä¸€ä¸ªç±»å¯ä»¥æˆä¸ºä¸å˜ç±»(Immutable Class)ï¼Œå°±ä¼˜å…ˆå°†å®ƒè®¾è®¡æˆä¸å˜ç±»ã€‚ä¸å˜ç±»æœ‰å¤©ç„¶çš„å¹¶å‘å…±äº«ä¼˜åŠ¿ï¼Œå‡å°‘åŒæ­¥æˆ–å¤åˆ¶ï¼Œè€Œä¸”å¯ä»¥æœ‰æ•ˆå¸®å¿™åˆ†æçº¿ç¨‹å®‰å…¨çš„èŒƒå›´ã€‚å°±ç®—æ˜¯å¯å˜ç±»ï¼Œå¯¹äºä»æ„é€ å‡½æ•°ä¼ å…¥çš„å¼•ç”¨ï¼Œåœ¨ç±»ä¸­æŒæœ‰æ—¶ï¼Œæœ€å¥½å°†å­—æ®µ finalï¼Œä»¥å…è¢«ä¸­é€”è¯¯ä¿®æ”¹å¼•ç”¨ã€‚ä¸è¦ä»¥ä¸ºè¿™ä¸ªå­—æ®µæ˜¯ç§æœ‰çš„ï¼Œè¿™ä¸ªç±»çš„ä»£ç éƒ½æ˜¯æˆ‘è‡ªå·±å†™çš„ï¼Œä¸ä¼šå‡ºç°å¯¹è¿™ä¸ªå­—æ®µçš„é‡æ–°èµ‹å€¼ã€‚è¦è€ƒè™‘çš„ä¸€ä¸ªå› ç´ æ˜¯ï¼Œè¿™ä¸ªä»£ç å¯èƒ½è¢«å…¶ä»–äººä¿®æ”¹ï¼Œä»–ä¸çŸ¥é“ä½ çš„è¿™ä¸ªå¼±çº¦å®šï¼Œfinal å°±æ˜¯ä¸€ä¸ªä¸å˜å¥‘çº¦ã€‚</p><h3 id="é™ä½ä¿®æ”¹æ—¶çš„è¯¯è§£æ€§ï¼Œä¸åŸ‹é›·"><a href="#é™ä½ä¿®æ”¹æ—¶çš„è¯¯è§£æ€§ï¼Œä¸åŸ‹é›·" class="headerlink" title="é™ä½ä¿®æ”¹æ—¶çš„è¯¯è§£æ€§ï¼Œä¸åŸ‹é›·"></a>é™ä½ä¿®æ”¹æ—¶çš„è¯¯è§£æ€§ï¼Œä¸åŸ‹é›·</h3><p>å‰é¢ä¸åœçš„æåˆ°ä»£ç è¢«å…¶ä»–äººä¿®æ”¹ï¼Œè¿™ä¹Ÿå¼€å‘äººå‘˜è¦éšæ—¶ç´§è®°çš„ã€‚è¿™ä¸ªå…¶ä»–äººåŒ…æ‹¬æœªæ¥çš„è‡ªå·±ï¼Œä½ è¦æ€»æƒ³ç€è¿™ä¸ªä»£ç å¯èƒ½ä¼šæœ‰äººå»æ”¹å®ƒã€‚æˆ‘åº”è¯¥ç»™ä¿®æ”¹çš„äººä¸€ç‚¹ä»€ä¹ˆæç¤ºï¼Œè®©ä»–çŸ¥é“æˆ‘ç°åœ¨çš„è®¾è®¡æ„å›¾ï¼Œè€Œä¸è¦åœ¨ç¨‹åºé‡Œé¢åŠ æ½œè§„åˆ™ï¼Œæˆ–åŸ‹ä¸€äº›å®¹æ˜“å¿½è§†çš„é›·ï¼Œæ¯”å¦‚ï¼šä½ ç”¨ null è¡¨ç¤ºä¸å¯ç”¨ï¼Œsize ç­‰äº 0 è¡¨ç¤ºé»‘åå•ï¼Œè¿™å°±æ˜¯ä¸€ä¸ªé›·ï¼Œä¸‹ä¸€ä¸ªä¿®æ”¹è€…ï¼ŒåŒ…æ‹¬ä½ è‡ªå·±ï¼Œéƒ½ä¸ä¼šè®°å¾—æœ‰è¿™æ ·çš„çº¦å®šï¼Œå¯èƒ½åé¢ä¸ºäº†æ”¹æŸä¸ªå…¶å®ƒ BUGï¼Œä¸å°å¿ƒæ”¹åˆ°äº†è¿™é‡Œï¼Œç›´æ¥å¼•çˆ†æ•…éšœã€‚å¯¹äºè¿™ä¸ªä¾‹å­ï¼Œä¸€ä¸ªåŸåˆ™å°±æ˜¯æ°¸è¿œä¸è¦åŒºåˆ† null å¼•ç”¨å’Œ empty å€¼ã€‚</p><h3 id="æé«˜ä»£ç çš„å¯æµ‹æ€§"><a href="#æé«˜ä»£ç çš„å¯æµ‹æ€§" class="headerlink" title="æé«˜ä»£ç çš„å¯æµ‹æ€§"></a>æé«˜ä»£ç çš„å¯æµ‹æ€§</h3><p>è¿™é‡Œçš„å¯æµ‹æ€§ä¸»è¦æŒ‡ Mock çš„å®¹æ˜“ç¨‹åº¦ï¼Œå’Œæµ‹è¯•çš„éš”ç¦»æ€§ã€‚è‡³äºæµ‹è¯•çš„è‡ªåŠ¨æ€§ï¼Œå¯é‡å¤æ€§ï¼Œéå¶ç„¶æ€§ï¼Œæ— åºæ€§ï¼Œå®Œå¤‡æ€§(å…¨è¦†ç›–)ï¼Œè½»é‡æ€§(å¯å¿«é€Ÿæ‰§è¡Œ)ï¼Œä¸€èˆ¬å¼€å‘äººå‘˜ï¼ŒåŠ ä¸Š JUnit ç­‰å·¥å…·çš„è¾…åŠ©åŸºæœ¬éƒ½èƒ½åšåˆ°ï¼Œä¹Ÿèƒ½ç†è§£å®ƒçš„å¥½å¤„ï¼Œåªæ˜¯å·¥ä½œé‡é—®é¢˜ã€‚è¿™é‡Œè¦ç‰¹åˆ«å¼ºè°ƒçš„æ˜¯æµ‹è¯•ç”¨ä¾‹çš„å•ä¸€æ€§(åªæµ‹ç›®æ ‡ç±»æœ¬èº«)å’Œéš”ç¦»æ€§(ä¸ä¼ æŸ“å¤±è´¥)ã€‚ç°åœ¨çš„æµ‹è¯•ä»£ç ï¼Œè¿‡äºå¼ºè°ƒå®Œå¤‡æ€§ï¼Œå¤§é‡é‡å¤äº¤å‰æµ‹è¯•ï¼Œçœ‹èµ·æ¥æ²¡å•¥åå¤„ï¼Œä½†æµ‹è¯•ä»£ç è¶Šå¤šï¼Œç»´æŠ¤ä»£ä»·è¶Šé«˜ã€‚ç»å¸¸å‡ºç°çš„é—®é¢˜æ˜¯ï¼Œä¿®æ”¹ä¸€è¡Œä»£ç æˆ–åŠ ä¸€ä¸ªåˆ¤æ–­æ¡ä»¶ï¼Œå¼•èµ· 100 å¤šä¸ªæµ‹è¯•ç”¨ä¾‹ä¸é€šè¿‡ã€‚æ—¶é—´ä¸€ç´§ï¼Œè°æœ‰è¿™ä¸ªé—²åŠŸå¤«å»æ”¹è¿™ä¹ˆå¤šå½¢æ€å„å¼‚çš„æµ‹è¯•ç”¨ä¾‹ï¼Ÿä¹…è€Œä¹…ä¹‹ï¼Œè¿™ä¸ªæµ‹è¯•ä»£ç å°±å·²ç»ä¸èƒ½çœŸå®ååº”ä»£ç ç°åœ¨çš„çŠ¶å†µï¼Œå¾ˆå¤šæ—¶å€™ä¼šè¢«è¿«ç»•è¿‡ã€‚æœ€å¥½çš„æƒ…å†µæ˜¯ï¼Œä¿®æ”¹ä¸€è¡Œä»£ç ï¼Œæœ‰ä¸”åªæœ‰ä¸€è¡Œæµ‹è¯•ä»£ç ä¸é€šè¿‡ã€‚å¦‚æœä¿®æ”¹äº†ä»£ç è€Œæµ‹è¯•ç”¨ä¾‹è¿˜èƒ½é€šè¿‡ï¼Œé‚£ä¹Ÿä¸è¡Œï¼Œè¡¨ç¤ºæµ‹è¯•æ²¡æœ‰è¦†ç›–åˆ°ã€‚å¦å¤–ï¼Œå¯ Mock æ€§æ˜¯éš”ç¦»çš„åŸºç¡€ï¼ŒæŠŠé—´æ¥ä¾èµ–çš„é€»è¾‘å±è”½æ‰ã€‚å¯ Mock æ€§çš„ä¸€ä¸ªæœ€å¤§çš„æ€æ‰‹å°±æ˜¯é™æ€æ–¹æ³•ï¼Œå°½é‡å°‘ç”¨ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;åˆ†å¸ƒå¼æœåŠ¡æ¡†æ¶ç»´æŠ¤äººå‘˜å¢å¤šæˆ–å˜æ›´ï¼Œä¼šå‡ºç°è´¨é‡çš„ä¸‹é™çš„é—®é¢˜ï¼Œå°¤å…¶æ˜¯æ¡†æ¶ä»£ç ï¼Œè¦æ—¶åˆ»ç‰¢è®°çš„ç»†èŠ‚ã€‚å¯èƒ½ä¸‹é¢è¦è®²çš„è¿™äº›ï¼Œå¤§å®¶éƒ½ä¼šè§‰å¾—å¾ˆç®€å•ï¼Œå¾ˆåŸºç¡€ï¼Œä½†è¦åšåˆ°æ—¶åˆ»ç‰¢è®°ã€‚åœ¨æ¯ä¸€è¡Œä»£ç ä¸­éƒ½è€ƒè™‘è¿™äº›å› ç´ ï¼Œæ˜¯éœ€è¦å¾ˆå¤§è€å¿ƒçš„ã€‚&lt;/p&gt;
&lt;h3 id=&quot;é˜²æ­¢ç©ºæŒ‡é’ˆå’Œä¸‹æ ‡è¶Šç•Œ&quot;&gt;&lt;a href=&quot;
      
    
    </summary>
    
    
      <category term="ç»éªŒåˆ†äº«" scheme="https://github.com/weiecho/categories/%E7%BB%8F%E9%AA%8C%E5%88%86%E4%BA%AB/"/>
    
    
      <category term="springboot" scheme="https://github.com/weiecho/tags/springboot/"/>
    
      <category term="cloud" scheme="https://github.com/weiecho/tags/cloud/"/>
    
      <category term="åˆ†å¸ƒå¼" scheme="https://github.com/weiecho/tags/%E5%88%86%E5%B8%83%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>Apolloåˆ†å¸ƒå¼é…ç½®ä¸­å¿ƒå¿«é€Ÿå…¥é—¨</title>
    <link href="https://github.com/weiecho/2019/11/02/stu_1112/"/>
    <id>https://github.com/weiecho/2019/11/02/stu_1112/</id>
    <published>2019-11-02T04:21:22.000Z</published>
    <updated>2020-07-03T02:32:12.986Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Apolloï¼ˆé˜¿æ³¢ç½—ï¼‰æ˜¯æºç¨‹æ¡†æ¶éƒ¨é—¨ç ”å‘çš„åˆ†å¸ƒå¼é…ç½®ä¸­å¿ƒï¼Œèƒ½å¤Ÿé›†ä¸­åŒ–ç®¡ç†åº”ç”¨ä¸åŒç¯å¢ƒã€ä¸åŒé›†ç¾¤çš„é…ç½®ï¼Œé…ç½®ä¿®æ”¹åèƒ½å¤Ÿå®æ—¶æ¨é€åˆ°åº”ç”¨ç«¯ï¼Œå¹¶ä¸”å…·å¤‡è§„èŒƒçš„æƒé™ã€æµç¨‹æ²»ç†ç­‰ç‰¹æ€§ï¼Œé€‚ç”¨äºå¾®æœåŠ¡é…ç½®ç®¡ç†åœºæ™¯ã€‚</p></blockquote><p>é¡¹ç›®åœ°å€ï¼š<a href="https://github.com/ctripcorp/apollo">apolloåˆ†å¸ƒå¼é…ç½®ä¸­å¿ƒ</a></p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/img/stu/20123155442.png" alt="image" title="apollo">                </div>                <div class="image-caption">apollo</div>            </figure><h3 id="1ã€å…³é”®è¯"><a href="#1ã€å…³é”®è¯" class="headerlink" title="1ã€å…³é”®è¯"></a>1ã€å…³é”®è¯</h3><p>AppIdï¼šå”¯ä¸€æŒ‡å®šé¡¹ç›®/é…ç½®çš„idï¼Œéœ€åœ¨é¡¹ç›®è®¾ç½®æŒ‡å®šapp.id</p><p>ENVï¼šå½“å‰è·å–çš„é…ç½®ç¯å¢ƒï¼Œå¯¹åº”DEV/FAT/UAT/PROç­‰</p><p>Namespaceï¼šæ ¹æ®å‘½åç©ºé—´åˆ’åˆ†æ¯ä¸€ç±»é…ç½®çš„</p><p>Clusterï¼šå¤šé›†ç¾¤ç¯å¢ƒçŠ¶å†µä¸‹çš„é…ç½®å®ç°ï¼Œé»˜è®¤ä¸ºdefault</p><p>å…³è”ï¼šå¯ä»¥å…³è”çš„Public Namespaceè¦†ç›–ç‰¹æ®Šå±æ€§</p><h3 id="2ã€æ“ä½œç‚¹"><a href="#2ã€æ“ä½œç‚¹" class="headerlink" title="2ã€æ“ä½œç‚¹"></a>2ã€æ“ä½œç‚¹</h3><p>å‘å¸ƒï¼šå°†è°ƒæ•´åæœªå‘å¸ƒçš„é…ç½®éƒ¨ç½²è‡³åº”ç”¨å¯ç”¨çŠ¶æ€</p><p>å›æ»šï¼šå›æ»šè‡³ç¡®å®æœ‰ä¿®æ”¹çš„ä¸Šä¸€å‘å¸ƒç‰ˆæœ¬</p><p>ç°åº¦ï¼šå¯æ ¹æ®æœåŠ¡èŠ‚ç‚¹IPæˆ–AppId(public) éƒ¨åˆ†ç”Ÿæ•ˆé…ç½®ï¼Œå¯ä»¥å…¨é‡å‘å¸ƒ</p><p>åˆ›å»ºClusterï¼šåˆ›å»ºä¸åŒçš„é…ç½®é›†ç¾¤</p><p>åˆ›å»º/å…³è”Namespaceï¼šåˆ›å»ºæˆ–å…³è”Namespace</p><h3 id="3ã€æ ¸å¿ƒç‚¹"><a href="#3ã€æ ¸å¿ƒç‚¹" class="headerlink" title="3ã€æ ¸å¿ƒç‚¹"></a>3ã€æ ¸å¿ƒç‚¹</h3><p>é¡¹ç›®AppIdï¼šè¯·ä¸ºæ¯ä¸€ä¸ªæœåŠ¡åˆ›å»ºå¹¶é…ç½®ç‹¬ç«‹çš„appId</p><p>å®¿ä¸»æœºENVï¼šå½“å‰åº”ç”¨æ‰€åœ¨çš„ç¯å¢ƒï¼Œè¯·è®¾ç½® /opt/settings/server.properties</p><p>apollo.metaï¼šå½“å‰åº”ç”¨ç¯å¢ƒè¿æ¥çš„æ³¨å†Œä¸­å¿ƒåœ°å€ï¼Œè¯·è®¾ç½®/opt/settings/server.properties</p><p>Privateï¼šå½“å‰AppIdç§æœ‰çš„å‘½åç©ºé—´é…ç½®å±æ€§</p><p>Publicï¼šæ‰€æœ‰é¡¹ç›®å¯ä»¥å…¬ç”¨çš„å‘½åç©ºé—´é…ç½®å±æ€§</p><p>å¤šNamespaceï¼šé¡¹ç›®ä¸­å¯é…ç½®å¤šä¸ªå‘½åç©ºé—´ï¼Œnamespaces: bootstrap,application,dubbo</p><p>Publicå…³è”/è¦†ç›–ï¼šå¦‚éœ€ä¿®æ”¹Publicé…ç½®ï¼Œè¯·å…³è”Namepaceåˆ°å½“å‰é¡¹ç›®é…ç½®åè¦†ç›–å±æ€§</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;Apolloï¼ˆé˜¿æ³¢ç½—ï¼‰æ˜¯æºç¨‹æ¡†æ¶éƒ¨é—¨ç ”å‘çš„åˆ†å¸ƒå¼é…ç½®ä¸­å¿ƒï¼Œèƒ½å¤Ÿé›†ä¸­åŒ–ç®¡ç†åº”ç”¨ä¸åŒç¯å¢ƒã€ä¸åŒé›†ç¾¤çš„é…ç½®ï¼Œé…ç½®ä¿®æ”¹åèƒ½å¤Ÿå®æ—¶æ¨é€åˆ°åº”ç”¨ç«¯ï¼Œå¹¶ä¸”å…·å¤‡è§„èŒƒçš„æƒé™ã€æµç¨‹æ²»ç†ç­‰ç‰¹æ€§ï¼Œé€‚ç”¨äºå¾®æœåŠ¡é…ç½®ç®¡ç†åœºæ™¯ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;é¡¹ç›®åœ°å€
      
    
    </summary>
    
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="https://github.com/weiecho/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="java" scheme="https://github.com/weiecho/tags/java/"/>
    
      <category term="å¼€æºå·¥å…·" scheme="https://github.com/weiecho/tags/%E5%BC%80%E6%BA%90%E5%B7%A5%E5%85%B7/"/>
    
      <category term="é…ç½®ä¸­å¿ƒ" scheme="https://github.com/weiecho/tags/%E9%85%8D%E7%BD%AE%E4%B8%AD%E5%BF%83/"/>
    
      <category term="apollo" scheme="https://github.com/weiecho/tags/apollo/"/>
    
  </entry>
  
  <entry>
    <title>JVMæ€§èƒ½ä¼˜åŒ–å»ºè®®</title>
    <link href="https://github.com/weiecho/2019/10/20/exp_1113/"/>
    <id>https://github.com/weiecho/2019/10/20/exp_1113/</id>
    <published>2019-10-20T14:30:31.000Z</published>
    <updated>2020-07-03T02:03:50.817Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ä¼˜åŒ–å»ºè®®ï¼š</span><br><span class="line">1ã€ä¸€èˆ¬å»ºè®®Xmsç­‰äºXmxï¼Œå¥½å¤„æ˜¯é¿å…æ¯æ¬¡gcåï¼Œè°ƒæ•´å †çš„å¤§å°ï¼Œå‡å°‘ç³»ç»Ÿå†…å­˜åˆ†é…å¼€é”€</span><br><span class="line">2ã€ä¸²è¡Œåƒåœ¾æ”¶é›†å™¨(Serial + Serial Old |  -XX:+UseSerialGC)</span><br><span class="line">3ã€å¹¶è¡Œåƒåœ¾æ”¶é›†å™¨(Parellel + Parellel Old)ï¼Œååé‡ä¼˜å…ˆï¼ˆJVM server æ¨¡å¼ é»˜è®¤ï¼‰</span><br><span class="line">4ã€å¹¶å‘åƒåœ¾æ”¶é›†å™¨ï¼ˆParNew + CMSï¼‰å“åº”æ—¶é—´ä¼˜å…ˆ</span><br><span class="line">5ã€æœ¬æ¬¡ä¼˜åŒ–è¯´æ˜çš„JDKç‰ˆæœ¬ä¸º1.8</span><br></pre></td></tr></table></figure><h4 id="é€šç”¨é…ç½®"><a href="#é€šç”¨é…ç½®" class="headerlink" title="é€šç”¨é…ç½®"></a>é€šç”¨é…ç½®</h4><p>1ã€java -Xmx2g -Xms2g -XX:MetaspaceSize=256m -XX:+UseConcMarkSweepGC</p><h4 id="å¹¶å‘å¤§ï¼Œå¯¹è±¡å°"><a href="#å¹¶å‘å¤§ï¼Œå¯¹è±¡å°" class="headerlink" title="å¹¶å‘å¤§ï¼Œå¯¹è±¡å°"></a>å¹¶å‘å¤§ï¼Œå¯¹è±¡å°</h4><p>2ã€java -Xmx2g -Xms2g -Xmn512m  -XX:MetaspaceSize=256m -XX:+UseConcMarkSweepGC -XX:CMSFullGCsBeforeCompaction=2  -XX:+UseCMSCompactAtFullCollection</p><h4 id="å¹¶å‘å¤§ï¼Œå¯¹è±¡å¤§"><a href="#å¹¶å‘å¤§ï¼Œå¯¹è±¡å¤§" class="headerlink" title="å¹¶å‘å¤§ï¼Œå¯¹è±¡å¤§"></a>å¹¶å‘å¤§ï¼Œå¯¹è±¡å¤§</h4><p>3ã€java -Xmx4g -Xms4g -Xmn2g  -XX:MetaspaceSize=512m -XX:+UseConcMarkSweepGC -XX:CMSFullGCsBeforeCompaction=2  -XX:+UseCMSCompactAtFullCollection</p><table><thead><tr><th>æ ¸å¿ƒå‚æ•°</th><th>è¯´æ˜</th><th>é»˜è®¤å€¼</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>-Xms</td><td>æœ€å°å †å†…å­˜</td><td></td><td>é»˜è®¤ä¸ºç‰©ç†å†…å­˜çš„1/64ï¼Œä¸ä¼šè¶…è¿‡1G</td></tr><tr><td>-Xmx</td><td>æœ€å¤§å †å†…å­˜</td><td></td><td>é»˜è®¤ä¸ºç‰©ç†å†…å­˜çš„1/4</td></tr><tr><td>-Xmn</td><td>æ–°ç”Ÿä»£å†…å­˜å¤§å°</td><td></td><td>é»˜è®¤å€¼ä¸º-Xmxçš„3/8ï¼Œè€å¹´ä»£å†…å­˜åˆ™ä¸º5/8 ä¼˜å…ˆçº§è¾ƒNewRatioé«˜</td></tr><tr><td>-XX:NewRatio</td><td>æ–°ç”Ÿä»£ä¸è€ç”Ÿä»£çš„å†…å­˜çš„æ¯”å€¼</td><td>2</td><td></td></tr><tr><td>-XX:SurvivorRatio</td><td>Edenå’Œ2ä¸ªå­˜æ´»åŒºå†…å­˜çš„æ¯”å€¼</td><td>8</td><td></td></tr><tr><td>-XX:MetaspaceSize</td><td>å…ƒç©ºé—´æœ€å°å€¼</td><td></td><td>å…ƒç©ºé—´å¹¶ä¸åœ¨è™šæ‹Ÿæœºä¸­ï¼Œè€Œæ˜¯ä½¿ç”¨æœ¬åœ°å†…å­˜</td></tr><tr><td>-XX:MaxMetaspaceSize</td><td>å…ƒç©ºé—´æœ€å¤§å€¼</td><td></td><td></td></tr><tr><td>-Xss</td><td>æ ˆå¤§å°</td><td>1M</td><td></td></tr><tr><td>-XX:ParallelGCThreads</td><td>å¹¶è¡Œæ”¶é›†å™¨çš„çº¿ç¨‹æ•°</td><td>é»˜è®¤ä¸ºæœåŠ¡å™¨CPUæ•°ç›®</td><td>æ­¤å€¼æœ€å¥½é…ç½®ä¸å¤„ç†å™¨æ•°ç›®ç›¸ç­‰ åŒæ ·é€‚ç”¨äºCMSä¸ç”¨è®¾ç½®</td></tr><tr><td>-XX:PretenureSizeThreshold</td><td>æ‰‹åŠ¨æŒ‡å®šå¯¹è±¡å¤§å°</td><td></td><td>å½“å¯¹è±¡è¾¾åˆ°æŒ‡å®šå¤§å°æ—¶ç›´æ¥å­˜æ”¾åˆ°è€å¹´ä»£ä¸­ï¼Œç”±äºæ–°ç”Ÿä»£å¤§å¤šä½¿ç”¨å¤åˆ¶ç®—æ³•ï¼Œä¸ºäº†èŠ‚çœå¤åˆ¶æ¶ˆè€—</td></tr><tr><td>-XX:MaxTenuringThreshold</td><td>æ‰‹åŠ¨è®¾ç½®å¯¹è±¡åœ¨æ–°ç”Ÿä»£ä¸­å­˜æ´»å¹´é¾„(å­˜æ´»æ¬¡æ•°)</td><td>15</td><td></td></tr><tr><td>-XX:+UseConcMarkSweepGC</td><td>æ‰‹åŠ¨æŒ‡å®šè€å¹´ä»£ä½¿ç”¨CMSæ”¶é›†å™¨</td><td></td><td></td></tr><tr><td>-XX:-CMSParallelRemarkEnabled</td><td>æ‰‹åŠ¨é…ç½®å¼€å¯å¹¶è¡Œæ ‡è®°ï¼ŒèŠ‚çœå¹´è½»ä»£æ ‡è®°æ—¶é—´</td><td></td><td>åºŸå¼ƒ</td></tr><tr><td>-XX:CMSInitiatingOccupancyFraction=80</td><td>æ‰‹åŠ¨æŒ‡å®šå½“è€å¹´ä»£å·²ç”¨ç©ºé—´è¾¾åˆ°80%æ—¶ï¼Œè§¦å‘è€å¹´ä»£å›æ”¶(é»˜è®¤92%)</td><td>-1</td><td></td></tr><tr><td>-XX:+UseCMSCompactAtFullCollection</td><td>åœ¨è¿›è¡ŒFull GCæ—¶å¯¹å†…å­˜è¿›è¡Œå‹ç¼©</td><td></td><td>JDK1.6ä»¥å‰ä¸éœ€è¦é…ç½®ï¼Œé»˜è®¤å¼€å¯</td></tr><tr><td>-XX:CMSFullGCsBeforeCompaction=2</td><td>ä¸XX:+UseCMSCompactAtFullCollectionå…³è”ä½¿ç”¨æ ‡è¯†ç€æ¯ç»è¿‡å¤šå°‘æ¬¡Full GC</td><td>0</td><td>è§¦å‘å¯¹å†…å­˜è¿›è¡Œä¸€æ¬¡å‹ç¼©ï¼Œé»˜è®¤æ˜¯0æ¬¡</td></tr></tbody></table>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class
      
    
    </summary>
    
    
      <category term="ç»éªŒåˆ†äº«" scheme="https://github.com/weiecho/categories/%E7%BB%8F%E9%AA%8C%E5%88%86%E4%BA%AB/"/>
    
    
      <category term="spring" scheme="https://github.com/weiecho/tags/spring/"/>
    
      <category term="æ¶æ„è®¾è®¡" scheme="https://github.com/weiecho/tags/%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/"/>
    
      <category term="JVM" scheme="https://github.com/weiecho/tags/JVM/"/>
    
  </entry>
  
  <entry>
    <title>è®¾è®¡å®ç°çš„å¥å£®æ€§</title>
    <link href="https://github.com/weiecho/2019/10/07/exp_1114/"/>
    <id>https://github.com/weiecho/2019/10/07/exp_1114/</id>
    <published>2019-10-07T14:30:31.000Z</published>
    <updated>2020-07-03T02:03:46.069Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æ—¥å¿—"><a href="#æ—¥å¿—" class="headerlink" title="æ—¥å¿—"></a>æ—¥å¿—</h2><p>æ—¥å¿—æ˜¯å‘ç°é—®é¢˜ã€æŸ¥çœ‹é—®é¢˜ä¸€ä¸ªæœ€å¸¸ç”¨çš„æ‰‹æ®µã€‚æ—¥å¿—è´¨é‡å¾€å¾€è¢«å¿½è§†ï¼Œæ²¡æœ‰æ—¥å¿—ä½¿ç”¨ä¸Šçš„æ˜ç¡®çº¦å®šã€‚é‡è§† Log çš„ä½¿ç”¨ï¼Œæé«˜ Log çš„ä¿¡æ¯æµ“åº¦ã€‚æ—¥å¿—è¿‡å¤šã€è¿‡äºæ··ä¹±ï¼Œä¼šå¯¼è‡´æœ‰ç”¨çš„ä¿¡æ¯è¢«æ·¹æ²¡ã€‚</p><p>è¦æœ‰æ•ˆåˆ©ç”¨è¿™ä¸ªå·¥å…·è¦æ³¨æ„ï¼š</p><h4 id="ä¸¥æ ¼çº¦å®šWARNã€ERRORçº§åˆ«è®°å½•çš„å†…å®¹"><a href="#ä¸¥æ ¼çº¦å®šWARNã€ERRORçº§åˆ«è®°å½•çš„å†…å®¹" class="headerlink" title="ä¸¥æ ¼çº¦å®šWARNã€ERRORçº§åˆ«è®°å½•çš„å†…å®¹"></a>ä¸¥æ ¼çº¦å®šWARNã€ERRORçº§åˆ«è®°å½•çš„å†…å®¹</h4><p>WARN è¡¨ç¤ºå¯ä»¥æ¢å¤çš„é—®é¢˜ï¼Œæ— éœ€äººå·¥ä»‹å…¥ã€‚<br>ERROR è¡¨ç¤ºéœ€è¦äººå·¥ä»‹å…¥é—®é¢˜ã€‚<br>æœ‰äº†è¿™æ ·çš„çº¦å®šï¼Œç›‘ç®¡ç³»ç»Ÿå‘ç°æ—¥å¿—æ–‡ä»¶çš„ä¸­å‡ºç° ERROR å­—ä¸²å°±æŠ¥è­¦ï¼Œåˆå°½é‡å‡å°‘äº†å‘ç”Ÿã€‚è¿‡å¤šçš„æŠ¥è­¦ä¼šè®©äººç–²å€¦ï¼Œä½¿äººå¯¹æŠ¥è­¦å¤±å»è­¦æƒ•æ€§ï¼Œä½¿ ERROR æ—¥å¿—å¤±å»æ„ä¹‰ã€‚å†è¾…ä»¥äººå·¥å®šæœŸæŸ¥çœ‹ WARN çº§åˆ«ä¿¡æ¯ï¼Œä»¥è¯„ä¼°ç³»ç»Ÿçš„â€œäºšå¥åº·â€ç¨‹åº¦ã€‚</p><h4 id="æ—¥å¿—ä¸­ï¼Œå°½é‡å¤šçš„æ”¶é›†å…³é”®ä¿¡æ¯"><a href="#æ—¥å¿—ä¸­ï¼Œå°½é‡å¤šçš„æ”¶é›†å…³é”®ä¿¡æ¯" class="headerlink" title="æ—¥å¿—ä¸­ï¼Œå°½é‡å¤šçš„æ”¶é›†å…³é”®ä¿¡æ¯"></a>æ—¥å¿—ä¸­ï¼Œå°½é‡å¤šçš„æ”¶é›†å…³é”®ä¿¡æ¯</h4><p>å‡ºé—®é¢˜æ—¶çš„ç°åœºä¿¡æ¯ï¼Œå³æ’æŸ¥é—®é¢˜è¦ç”¨åˆ°çš„ä¿¡æ¯ã€‚å¦‚æœåŠ¡è°ƒç”¨å¤±è´¥æ—¶ï¼Œè¦ç»™å‡ºä½¿ç”¨ Dubbo çš„ç‰ˆæœ¬ã€æœåŠ¡æä¾›è€…çš„ IPã€ä½¿ç”¨çš„æ˜¯å“ªä¸ªæ³¨å†Œä¸­å¿ƒï¼›è°ƒç”¨çš„æ˜¯å“ªä¸ªæœåŠ¡ã€å“ªä¸ªæ–¹æ³•ç­‰ç­‰ã€‚è¿™äº›ä¿¡æ¯å¦‚æœä¸ç»™å‡ºï¼Œé‚£ä¹ˆäº‹åäººå·¥æ”¶é›†çš„ï¼Œé—®é¢˜è¿‡åç°åœºå¯èƒ½å·²ç»ä¸èƒ½å¤åŸï¼ŒåŠ å¤§æ’æŸ¥é—®é¢˜çš„éš¾åº¦ã€‚<br>å¦‚æœå¯èƒ½ï¼Œç»™å‡ºé—®é¢˜çš„åŸå› å’Œè§£å†³æ–¹æ³•ã€‚è¿™è®©ç»´æŠ¤å’Œé—®é¢˜è§£å†³å˜å¾—ç®€å•ï¼Œè€Œä¸æ˜¯å¯»æ±‚ç²¾é€šè€…ï¼ˆå¾€å¾€æ˜¯å®ç°è€…ï¼‰çš„å¸®åŠ©ã€‚</p><h4 id="åŒä¸€ä¸ªæˆ–æ˜¯ä¸€ç±»é—®é¢˜ä¸è¦é‡å¤è®°å½•å¤šæ¬¡"><a href="#åŒä¸€ä¸ªæˆ–æ˜¯ä¸€ç±»é—®é¢˜ä¸è¦é‡å¤è®°å½•å¤šæ¬¡" class="headerlink" title="åŒä¸€ä¸ªæˆ–æ˜¯ä¸€ç±»é—®é¢˜ä¸è¦é‡å¤è®°å½•å¤šæ¬¡"></a>åŒä¸€ä¸ªæˆ–æ˜¯ä¸€ç±»é—®é¢˜ä¸è¦é‡å¤è®°å½•å¤šæ¬¡</h4><p>åŒä¸€ä¸ªæˆ–æ˜¯ä¸€ç±»å¼‚å¸¸æ—¥å¿—è¿ç»­å‡ºç°å‡ åéçš„æƒ…å†µï¼Œè¿˜æ˜¯å¸¸å¸¸èƒ½çœ‹åˆ°çš„ã€‚äººçœ¼å¾ˆå®¹æ˜“æ¼æ‰æ·¹æ²¡åœ¨å…¶ä¸­ä¸ä¸€æ ·çš„é‡è¦æ—¥å¿—ä¿¡æ¯ã€‚è¦å°½é‡é¿å…è¿™ç§æƒ…å†µã€‚åœ¨å¯ä»¥é¢„è§ä¼šå‡ºç°çš„æƒ…å†µï¼Œæœ‰å¿…è¦åŠ ä¸€äº›é€»è¾‘æ¥é¿å…ã€‚</p><p>å¦‚ä¸ºä¸€ä¸ªé—®é¢˜å‡†å¤‡ä¸€ä¸ªæ ‡å¿—ï¼Œå‡ºé—®é¢˜åæ‰“æ—¥å¿—åè®¾ç½®æ ‡å¿—ï¼Œé¿å…é‡å¤æ‰“æ—¥å¿—ã€‚é—®é¢˜æ¢å¤åæ¸…é™¤æ ‡å¿—ã€‚</p><p>è™½ç„¶æœ‰ç‚¹éº»çƒ¦ï¼Œä½†æ˜¯è¿™æ ·åšä¿è¯æ—¥å¿—ä¿¡æ¯æµ“åº¦ï¼Œè®©ç›‘æ§æ›´æœ‰æ•ˆã€‚</p><h2 id="ç•Œé™è®¾ç½®"><a href="#ç•Œé™è®¾ç½®" class="headerlink" title="ç•Œé™è®¾ç½®"></a>ç•Œé™è®¾ç½®</h2><p>èµ„æºæ˜¯æœ‰é™çš„ï¼ŒCPUã€å†…å­˜ã€IO ç­‰ç­‰ã€‚ä¸è¦å› ä¸ºå¤–éƒ¨çš„è¯·æ±‚ã€æ•°æ®ä¸å—é™çš„è€Œå´©æºƒã€‚</p><h4 id="çº¿ç¨‹æ± -ExectorService-çš„å¤§å°å’Œé¥±å’Œç­–ç•¥"><a href="#çº¿ç¨‹æ± -ExectorService-çš„å¤§å°å’Œé¥±å’Œç­–ç•¥" class="headerlink" title="çº¿ç¨‹æ± (ExectorService)çš„å¤§å°å’Œé¥±å’Œç­–ç•¥"></a>çº¿ç¨‹æ± (ExectorService)çš„å¤§å°å’Œé¥±å’Œç­–ç•¥</h4><p>Server ç«¯ç”¨äºå¤„ç†è¯·æ±‚çš„ ExectorService è®¾ç½®ä¸Šé™ã€‚ExecutorService çš„ä»»åŠ¡ç­‰å¾…é˜Ÿåˆ—ä½¿ç”¨æœ‰é™é˜Ÿåˆ—ï¼Œé¿å…èµ„æºè€—å°½ã€‚å½“ä»»åŠ¡ç­‰å¾…é˜Ÿåˆ—é¥±å’Œæ—¶ï¼Œé€‰æ‹©ä¸€ä¸ªåˆé€‚çš„é¥±å’Œç­–ç•¥ã€‚è¿™æ ·ä¿è¯å¹³æ»‘åŠ£åŒ–ã€‚</p><p>åœ¨ä¸€äº›è®¾è®¡ä¸­ï¼Œé¥±å’Œç­–ç•¥æ˜¯ä¸¢å¼ƒæ•°æ®ï¼Œç­‰å¾…ç»“æœä¹Ÿåªæ˜¯è¯·æ±‚çš„è¶…æ—¶ã€‚</p><p>è¾¾åˆ°é¥±å’Œæ—¶ï¼Œè¯´æ˜å·²ç»è¾¾åˆ°æœåŠ¡æä¾›æ–¹çš„è´Ÿè·ä¸Šé™ï¼Œè¦åœ¨é¥±å’Œç­–ç•¥çš„æ“ä½œä¸­æ—¥å¿—è®°å½•è¿™ä¸ªé—®é¢˜ï¼Œä»¥å‘å‡ºç›‘æ§è­¦æŠ¥ã€‚è®°å¾—æ³¨æ„ä¸è¦é‡å¤å¤šæ¬¡è®°å½•å“¦ã€‚ï¼ˆæ³¨æ„ï¼Œç¼ºçœçš„é¥±å’Œç­–ç•¥ä¸ä¼šæœ‰è¿™äº›é™„åŠ çš„æ“ä½œã€‚ï¼‰æ ¹æ®è­¦æŠ¥çš„é¢‘ç‡ï¼Œå·²ç»å†³å®šæ‰©å®¹è°ƒæ•´ç­‰ç­‰ï¼Œé¿å…ç³»ç»Ÿé—®é¢˜è¢«å¿½ç•¥ã€‚</p><h4 id="é›†åˆå®¹é‡"><a href="#é›†åˆå®¹é‡" class="headerlink" title="é›†åˆå®¹é‡"></a>é›†åˆå®¹é‡</h4><p>å¦‚æœç¡®ä¿è¿›å…¥é›†åˆçš„å…ƒç´ æ˜¯å¯æ§çš„ä¸”æ˜¯è¶³å¤Ÿå°‘ï¼Œåˆ™å¯ä»¥æ”¾å¿ƒä½¿ç”¨ã€‚è¿™æ˜¯å¤§éƒ¨åˆ†çš„æƒ…å†µã€‚å¦‚æœä¸èƒ½ä¿è¯ï¼Œåˆ™ä½¿ç”¨æœ‰æœ‰ç•Œçš„é›†åˆã€‚å½“åˆ°è¾¾ç•Œé™æ—¶ï¼Œé€‰æ‹©ä¸€ä¸ªåˆé€‚çš„ä¸¢å¼ƒç­–ç•¥ã€‚</p><h2 id="å®¹é”™-é‡è¯•-æ¢å¤"><a href="#å®¹é”™-é‡è¯•-æ¢å¤" class="headerlink" title="å®¹é”™-é‡è¯•-æ¢å¤"></a>å®¹é”™-é‡è¯•-æ¢å¤</h2><p>é«˜å¯ç”¨ç»„ä»¶è¦å®¹å¿å…¶ä¾èµ–ç»„ä»¶çš„å¤±è´¥ã€‚</p><h4 id="æœåŠ¡æ³¨å†Œä¸­å¿ƒ"><a href="#æœåŠ¡æ³¨å†Œä¸­å¿ƒ" class="headerlink" title="æœåŠ¡æ³¨å†Œä¸­å¿ƒ"></a>æœåŠ¡æ³¨å†Œä¸­å¿ƒ</h4><p>ç›®å‰æœåŠ¡æ³¨å†Œä¸­å¿ƒä½¿ç”¨äº†æ•°æ®åº“æ¥ä¿å­˜æœåŠ¡æä¾›è€…å’Œæ¶ˆè´¹è€…çš„ä¿¡æ¯ã€‚æ³¨å†Œä¸­å¿ƒé›†ç¾¤ä¸åŒæ³¨å†Œä¸­å¿ƒä¹Ÿé€šè¿‡æ•°æ®åº“æ¥è¿›è¡ŒåŒæ­¥æ•°æ®ï¼Œä»¥æ„ŸçŸ¥å…¶å®ƒæ³¨å†Œä¸­å¿ƒä¸Šæä¾›è€…çš„å˜åŒ–ã€‚æ³¨å†Œä¸­å¿ƒä¼šåœ¨å†…å­˜ä¸­ä¿å­˜ä¸€ä»½æä¾›è€…å’Œæ¶ˆè´¹è€…æ•°æ®ï¼Œæ•°æ®åº“ä¸å¯ç”¨æ—¶ï¼Œæ³¨å†Œä¸­å¿ƒç‹¬ç«‹å¯¹å¤–æä¾›æœåŠ¡ä»¥ä¿è¯æ­£å¸¸è¿è½¬ï¼Œåªæ˜¯æ‹¿ä¸åˆ°å…¶å®ƒæ³¨å†Œä¸­å¿ƒçš„æ•°æ®ã€‚å½“æ•°æ®åº“æ¢å¤æ—¶ï¼Œé‡è¯•é€»è¾‘ä¼šå°†å†…å­˜ä¸­ä¿®æ”¹çš„æ•°æ®å†™å›æ•°æ®åº“ï¼Œå¹¶æ‹¿åˆ°æ•°æ®åº“ä¸­æ–°æ•°æ®ã€‚</p><h4 id="æœåŠ¡çš„æ¶ˆè´¹è€…"><a href="#æœåŠ¡çš„æ¶ˆè´¹è€…" class="headerlink" title="æœåŠ¡çš„æ¶ˆè´¹è€…"></a>æœåŠ¡çš„æ¶ˆè´¹è€…</h4><p>æœåŠ¡æ¶ˆè´¹è€…ä»æ³¨å†Œä¸­å¿ƒæ‹¿åˆ°æä¾›è€…åˆ—è¡¨åï¼Œä¼šä¿å­˜æä¾›è€…åˆ—è¡¨åˆ°å†…å­˜å’Œç£ç›˜æ–‡ä»¶ä¸­ã€‚è¿™æ ·æ³¨å†Œä¸­å¿ƒå®•æœºåæ¶ˆè´¹è€…å¯ä»¥æ­£å¸¸è¿è½¬ï¼Œç”šè‡³å¯ä»¥åœ¨æ³¨å†Œä¸­å¿ƒå®•æœºè¿‡ç¨‹ä¸­é‡å¯æ¶ˆè´¹è€…ã€‚æ¶ˆè´¹è€…å¯åŠ¨æ—¶ï¼Œå‘ç°æ³¨å†Œä¸­å¿ƒä¸å¯ç”¨ï¼Œä¼šè¯»å–ä¿å­˜åœ¨ç£ç›˜æ–‡ä»¶ä¸­æä¾›è€…åˆ—è¡¨ã€‚é‡è¯•é€»è¾‘ä¿è¯æ³¨å†Œä¸­å¿ƒæ¢å¤åï¼Œæ›´æ–°ä¿¡æ¯ã€‚</p><h2 id="é‡è¯•å»¶è¿Ÿç­–ç•¥"><a href="#é‡è¯•å»¶è¿Ÿç­–ç•¥" class="headerlink" title="é‡è¯•å»¶è¿Ÿç­–ç•¥"></a>é‡è¯•å»¶è¿Ÿç­–ç•¥</h2><h4 id="æ•°æ®åº“ä¸Šçš„æ´»é”"><a href="#æ•°æ®åº“ä¸Šçš„æ´»é”" class="headerlink" title="æ•°æ®åº“ä¸Šçš„æ´»é”"></a>æ•°æ®åº“ä¸Šçš„æ´»é”</h4><p>æ³¨å†Œä¸­å¿ƒä¼šå®šæ—¶æ›´æ–°æ•°æ®åº“ä¸€æ¡è®°å½•çš„æ—¶é—´æˆ³ï¼Œè¿™æ ·é›†ç¾¤ä¸­å…¶å®ƒçš„æ³¨å†Œä¸­å¿ƒæ„ŸçŸ¥å®ƒæ˜¯å­˜æ´»ã€‚è¿‡æœŸæ³¨å†Œä¸­å¿ƒå’Œå®ƒçš„ç›¸å…³æ•°æ® ä¼šè¢«æ¸…é™¤ã€‚æ•°æ®åº“æ­£å¸¸æ—¶ï¼Œè¿™ä¸ªæœºåˆ¶è¿è¡Œè‰¯å¥½ã€‚ä½†æ˜¯æ•°æ®åº“è´Ÿè·é«˜æ—¶ï¼Œå…¶ä¸Šçš„æ¯ä¸ªæ“ä½œéƒ½ä¼šå¾ˆæ…¢ã€‚è¿™å°±å‡ºç°ï¼š</p><p>A æ³¨å†Œä¸­å¿ƒè®¤ä¸º B è¿‡æœŸï¼Œåˆ é™¤ B çš„æ•°æ®ã€‚ B å‘ç°è‡ªå·±çš„æ•°æ®æ²¡æœ‰äº†ï¼Œé‡æ–°å†™å…¥è‡ªå·±çš„æ•°æ®çš„åå¤æ“ä½œã€‚è¿™äº›åå¤çš„æ“ä½œåˆåŠ é‡äº†æ•°æ®åº“çš„è´Ÿè·ï¼Œæ¶åŒ–é—®é¢˜ã€‚</p><h4 id="å¯ä»¥ä½¿ç”¨ä¸‹é¢é€»è¾‘ï¼š"><a href="#å¯ä»¥ä½¿ç”¨ä¸‹é¢é€»è¾‘ï¼š" class="headerlink" title="å¯ä»¥ä½¿ç”¨ä¸‹é¢é€»è¾‘ï¼š"></a>å¯ä»¥ä½¿ç”¨ä¸‹é¢é€»è¾‘ï¼š</h4><p>å½“ B å‘ç°è‡ªå·±æ•°æ®è¢«åˆ é™¤æ—¶ï¼ˆå†™å…¥å¤±è´¥ï¼‰ï¼Œé€‰æ‹©ç­‰å¾…è¿™æ®µæ—¶é—´å†é‡è¯•ã€‚é‡è¯•æ—¶é—´å¯ä»¥é€‰æ‹©æŒ‡æ•°çº§å¢é•¿ï¼Œå¦‚ç¬¬ä¸€æ¬¡ç­‰ 1 åˆ†é’Ÿï¼Œç¬¬äºŒæ¬¡ 10 åˆ†é’Ÿã€ç¬¬ä¸‰æ¬¡ 100 åˆ†é’Ÿã€‚</p><p>è¿™æ ·æ“ä½œå‡å°‘åï¼Œä¿è¯æ•°æ®åº“å¯ä»¥å†·å´ï¼ˆCool Downï¼‰ä¸‹æ¥ã€‚</p><h4 id="Client-é‡è¿æ³¨å†Œä¸­å¿ƒ"><a href="#Client-é‡è¿æ³¨å†Œä¸­å¿ƒ" class="headerlink" title="Client é‡è¿æ³¨å†Œä¸­å¿ƒ"></a>Client é‡è¿æ³¨å†Œä¸­å¿ƒ</h4><p>å½“ä¸€ä¸ªæ³¨å†Œä¸­å¿ƒåœæœºæ—¶ï¼Œå…¶å®ƒçš„ Client ä¼šåŒæ—¶æ¥æ”¶äº‹ä»¶ï¼Œè€Œå»é‡è¿å¦ä¸€ä¸ªæ³¨å†Œä¸­å¿ƒã€‚Client æ•°é‡ç›¸å¯¹æ¯”è¾ƒå¤šï¼Œä¼šå¯¹æ³¨å†Œä¸­å¿ƒé€ æˆå†²å‡»ã€‚é¿å…æ–¹æ³•å¯ä»¥æ˜¯ Client é‡è¿æ—¶éšæœºå»¶æ—¶ 3 åˆ†é’Ÿï¼ŒæŠŠé‡è¿åˆ†æ•£å¼€ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;æ—¥å¿—&quot;&gt;&lt;a href=&quot;#æ—¥å¿—&quot; class=&quot;headerlink&quot; title=&quot;æ—¥å¿—&quot;&gt;&lt;/a&gt;æ—¥å¿—&lt;/h2&gt;&lt;p&gt;æ—¥å¿—æ˜¯å‘ç°é—®é¢˜ã€æŸ¥çœ‹é—®é¢˜ä¸€ä¸ªæœ€å¸¸ç”¨çš„æ‰‹æ®µã€‚æ—¥å¿—è´¨é‡å¾€å¾€è¢«å¿½è§†ï¼Œæ²¡æœ‰æ—¥å¿—ä½¿ç”¨ä¸Šçš„æ˜ç¡®çº¦å®šã€‚é‡è§† Log çš„ä½¿ç”¨ï¼Œæé«˜ Log çš„ä¿¡æ¯æµ“åº¦ã€‚æ—¥å¿—
      
    
    </summary>
    
    
      <category term="ç»éªŒåˆ†äº«" scheme="https://github.com/weiecho/categories/%E7%BB%8F%E9%AA%8C%E5%88%86%E4%BA%AB/"/>
    
    
      <category term="å¾®æœåŠ¡" scheme="https://github.com/weiecho/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/"/>
    
      <category term="spring" scheme="https://github.com/weiecho/tags/spring/"/>
    
      <category term="æ¶æ„è®¾è®¡" scheme="https://github.com/weiecho/tags/%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/"/>
    
  </entry>
  
  <entry>
    <title>XXL-JOBåˆ†å¸ƒå¼ä»»åŠ¡è°ƒåº¦å¹³å°</title>
    <link href="https://github.com/weiecho/2019/10/03/tool_1112/"/>
    <id>https://github.com/weiecho/2019/10/03/tool_1112/</id>
    <published>2019-10-03T05:23:12.000Z</published>
    <updated>2020-07-03T02:04:29.411Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>XXL-JOBæ˜¯ä¸€ä¸ªè½»é‡çº§åˆ†å¸ƒå¼ä»»åŠ¡è°ƒåº¦å¹³å°ï¼Œå…¶æ ¸å¿ƒè®¾è®¡ç›®æ ‡æ˜¯å¼€å‘è¿…é€Ÿã€å­¦ä¹ ç®€å•ã€è½»é‡çº§ã€æ˜“æ‰©å±•ã€‚ç°å·²å¼€æ”¾æºä»£ç å¹¶æ¥å…¥å¤šå®¶å…¬å¸çº¿ä¸Šäº§å“çº¿ï¼Œå¼€ç®±å³ç”¨ã€‚</p></blockquote><p>é¡¹ç›®åœ°å€ï¼š<a href="http://www.xuxueli.com/xxl-job/" target="_blank" rel="noopener">xxl-jobåˆ†å¸ƒå¼ä»»åŠ¡è°ƒåº¦å¹³å°</a></p><ul><li>ç®€å•ï¼šæ”¯æŒé€šè¿‡Webé¡µé¢å¯¹ä»»åŠ¡è¿›è¡ŒCRUDæ“ä½œï¼Œæ“ä½œç®€å•ï¼Œä¸€åˆ†é’Ÿä¸Šæ‰‹ï¼›</li><li>åŠ¨æ€ï¼šæ”¯æŒåŠ¨æ€ä¿®æ”¹ä»»åŠ¡çŠ¶æ€ã€å¯åŠ¨/åœæ­¢ä»»åŠ¡ï¼Œä»¥åŠç»ˆæ­¢è¿è¡Œä¸­ä»»åŠ¡ï¼Œå³æ—¶ç”Ÿæ•ˆï¼›</li><li>è°ƒåº¦ä¸­å¿ƒHAï¼ˆä¸­å¿ƒå¼ï¼‰ï¼šè°ƒåº¦é‡‡ç”¨ä¸­å¿ƒå¼è®¾è®¡ï¼Œâ€œè°ƒåº¦ä¸­å¿ƒâ€è‡ªç ”è°ƒåº¦ç»„ä»¶å¹¶æ”¯æŒé›†ç¾¤éƒ¨ç½²ï¼Œå¯ä¿è¯è°ƒåº¦ä¸­å¿ƒHAï¼›</li><li>æ‰§è¡Œå™¨HAï¼ˆåˆ†å¸ƒå¼ï¼‰ï¼šä»»åŠ¡åˆ†å¸ƒå¼æ‰§è¡Œï¼Œä»»åŠ¡â€æ‰§è¡Œå™¨â€æ”¯æŒé›†ç¾¤éƒ¨ç½²ï¼Œå¯ä¿è¯ä»»åŠ¡æ‰§è¡ŒHAï¼›</li><li>æ³¨å†Œä¸­å¿ƒ: æ‰§è¡Œå™¨ä¼šå‘¨æœŸæ€§è‡ªåŠ¨æ³¨å†Œä»»åŠ¡, è°ƒåº¦ä¸­å¿ƒå°†ä¼šè‡ªåŠ¨å‘ç°æ³¨å†Œçš„ä»»åŠ¡å¹¶è§¦å‘æ‰§è¡Œã€‚åŒæ—¶ï¼Œä¹Ÿæ”¯æŒæ‰‹åŠ¨å½•å…¥æ‰§è¡Œå™¨åœ°å€ï¼›</li><li>å¼¹æ€§æ‰©å®¹ç¼©å®¹ï¼šä¸€æ—¦æœ‰æ–°æ‰§è¡Œå™¨æœºå™¨ä¸Šçº¿æˆ–è€…ä¸‹çº¿ï¼Œä¸‹æ¬¡è°ƒåº¦æ—¶å°†ä¼šé‡æ–°åˆ†é…ä»»åŠ¡ï¼›</li><li>è·¯ç”±ç­–ç•¥ï¼šæ‰§è¡Œå™¨é›†ç¾¤éƒ¨ç½²æ—¶æä¾›ä¸°å¯Œçš„è·¯ç”±ç­–ç•¥ï¼ŒåŒ…æ‹¬ï¼šç¬¬ä¸€ä¸ªã€æœ€åä¸€ä¸ªã€è½®è¯¢ã€éšæœºã€ä¸€è‡´æ€§HASHã€æœ€ä¸ç»å¸¸ä½¿ç”¨ã€æœ€è¿‘æœ€ä¹…æœªä½¿ç”¨ã€æ•…éšœè½¬ç§»ã€å¿™ç¢Œè½¬ç§»ç­‰ï¼›</li><li>æ•…éšœè½¬ç§»ï¼šä»»åŠ¡è·¯ç”±ç­–ç•¥é€‰æ‹©â€æ•…éšœè½¬ç§»â€æƒ…å†µä¸‹ï¼Œå¦‚æœæ‰§è¡Œå™¨é›†ç¾¤ä¸­æŸä¸€å°æœºå™¨æ•…éšœï¼Œå°†ä¼šè‡ªåŠ¨Failoveråˆ‡æ¢åˆ°ä¸€å°æ­£å¸¸çš„æ‰§è¡Œå™¨å‘é€è°ƒåº¦è¯·æ±‚ã€‚</li><li>é˜»å¡å¤„ç†ç­–ç•¥ï¼šè°ƒåº¦è¿‡äºå¯†é›†æ‰§è¡Œå™¨æ¥ä¸åŠå¤„ç†æ—¶çš„å¤„ç†ç­–ç•¥ï¼Œç­–ç•¥åŒ…æ‹¬ï¼šå•æœºä¸²è¡Œï¼ˆé»˜è®¤ï¼‰ã€ä¸¢å¼ƒåç»­è°ƒåº¦ã€è¦†ç›–ä¹‹å‰è°ƒåº¦ï¼›</li><li>ä»»åŠ¡è¶…æ—¶æ§åˆ¶ï¼šæ”¯æŒè‡ªå®šä¹‰ä»»åŠ¡è¶…æ—¶æ—¶é—´ï¼Œä»»åŠ¡è¿è¡Œè¶…æ—¶å°†ä¼šä¸»åŠ¨ä¸­æ–­ä»»åŠ¡ï¼›</li><li>ä»»åŠ¡å¤±è´¥é‡è¯•ï¼šæ”¯æŒè‡ªå®šä¹‰ä»»åŠ¡å¤±è´¥é‡è¯•æ¬¡æ•°ï¼Œå½“ä»»åŠ¡å¤±è´¥æ—¶å°†ä¼šæŒ‰ç…§é¢„è®¾çš„å¤±è´¥é‡è¯•æ¬¡æ•°ä¸»åŠ¨è¿›è¡Œé‡è¯•ï¼›å…¶ä¸­åˆ†ç‰‡ä»»åŠ¡æ”¯æŒåˆ†ç‰‡ç²’åº¦çš„å¤±è´¥é‡è¯•ï¼›</li><li>ä»»åŠ¡å¤±è´¥å‘Šè­¦ï¼›é»˜è®¤æä¾›é‚®ä»¶æ–¹å¼å¤±è´¥å‘Šè­¦ï¼ŒåŒæ—¶é¢„ç•™æ‰©å±•æ¥å£ï¼Œå¯æ–¹ä¾¿çš„æ‰©å±•çŸ­ä¿¡ã€é’‰é’‰ç­‰å‘Šè­¦æ–¹å¼ï¼›</li><li>åˆ†ç‰‡å¹¿æ’­ä»»åŠ¡ï¼šæ‰§è¡Œå™¨é›†ç¾¤éƒ¨ç½²æ—¶ï¼Œä»»åŠ¡è·¯ç”±ç­–ç•¥é€‰æ‹©â€åˆ†ç‰‡å¹¿æ’­â€æƒ…å†µä¸‹ï¼Œä¸€æ¬¡ä»»åŠ¡è°ƒåº¦å°†ä¼šå¹¿æ’­è§¦å‘é›†ç¾¤ä¸­æ‰€æœ‰æ‰§è¡Œå™¨æ‰§è¡Œä¸€æ¬¡ä»»åŠ¡ï¼Œå¯æ ¹æ®åˆ†ç‰‡å‚æ•°å¼€å‘åˆ†ç‰‡ä»»åŠ¡ï¼›</li><li>åŠ¨æ€åˆ†ç‰‡ï¼šåˆ†ç‰‡å¹¿æ’­ä»»åŠ¡ä»¥æ‰§è¡Œå™¨ä¸ºç»´åº¦è¿›è¡Œåˆ†ç‰‡ï¼Œæ”¯æŒåŠ¨æ€æ‰©å®¹æ‰§è¡Œå™¨é›†ç¾¤ä»è€ŒåŠ¨æ€å¢åŠ åˆ†ç‰‡æ•°é‡ï¼ŒååŒè¿›è¡Œä¸šåŠ¡å¤„ç†ï¼›åœ¨è¿›è¡Œå¤§æ•°æ®é‡ä¸šåŠ¡æ“ä½œæ—¶å¯æ˜¾è‘—æå‡ä»»åŠ¡å¤„ç†èƒ½åŠ›å’Œé€Ÿåº¦ã€‚</li><li>äº‹ä»¶è§¦å‘ï¼šé™¤äº†â€Cronæ–¹å¼â€å’Œâ€ä»»åŠ¡ä¾èµ–æ–¹å¼â€è§¦å‘ä»»åŠ¡æ‰§è¡Œä¹‹å¤–ï¼Œæ”¯æŒåŸºäºäº‹ä»¶çš„è§¦å‘ä»»åŠ¡æ–¹å¼ã€‚è°ƒåº¦ä¸­å¿ƒæä¾›è§¦å‘ä»»åŠ¡å•æ¬¡æ‰§è¡Œçš„APIæœåŠ¡ï¼Œå¯æ ¹æ®ä¸šåŠ¡äº‹ä»¶çµæ´»è§¦å‘ã€‚</li><li>ä»»åŠ¡è¿›åº¦ç›‘æ§ï¼šæ”¯æŒå®æ—¶ç›‘æ§ä»»åŠ¡è¿›åº¦ï¼›</li><li>Rollingå®æ—¶æ—¥å¿—ï¼šæ”¯æŒåœ¨çº¿æŸ¥çœ‹è°ƒåº¦ç»“æœï¼Œå¹¶ä¸”æ”¯æŒä»¥Rollingæ–¹å¼å®æ—¶æŸ¥çœ‹æ‰§è¡Œå™¨è¾“å‡ºçš„å®Œæ•´çš„æ‰§è¡Œæ—¥å¿—ï¼›</li><li>GLUEï¼šæä¾›Web IDEï¼Œæ”¯æŒåœ¨çº¿å¼€å‘ä»»åŠ¡é€»è¾‘ä»£ç ï¼ŒåŠ¨æ€å‘å¸ƒï¼Œå®æ—¶ç¼–è¯‘ç”Ÿæ•ˆï¼Œçœç•¥éƒ¨ç½²ä¸Šçº¿çš„è¿‡ç¨‹ã€‚æ”¯æŒ30ä¸ªç‰ˆæœ¬çš„å†å²ç‰ˆæœ¬å›æº¯ã€‚</li><li>è„šæœ¬ä»»åŠ¡ï¼šæ”¯æŒä»¥GLUEæ¨¡å¼å¼€å‘å’Œè¿è¡Œè„šæœ¬ä»»åŠ¡ï¼ŒåŒ…æ‹¬Shellã€Pythonã€NodeJSã€PHPã€PowerShellç­‰ç±»å‹è„šæœ¬;</li><li>å‘½ä»¤è¡Œä»»åŠ¡ï¼šåŸç”Ÿæä¾›é€šç”¨å‘½ä»¤è¡Œä»»åŠ¡Handlerï¼ˆBeanä»»åŠ¡ï¼Œâ€CommandJobHandlerâ€ï¼‰ï¼›ä¸šåŠ¡æ–¹åªéœ€è¦æä¾›å‘½ä»¤è¡Œå³å¯ï¼›</li><li>ä»»åŠ¡ä¾èµ–ï¼šæ”¯æŒé…ç½®å­ä»»åŠ¡ä¾èµ–ï¼Œå½“çˆ¶ä»»åŠ¡æ‰§è¡Œç»“æŸä¸”æ‰§è¡ŒæˆåŠŸåå°†ä¼šä¸»åŠ¨è§¦å‘ä¸€æ¬¡å­ä»»åŠ¡çš„æ‰§è¡Œ, å¤šä¸ªå­ä»»åŠ¡ç”¨é€—å·åˆ†éš”ï¼›</li><li>ä¸€è‡´æ€§ï¼šâ€œè°ƒåº¦ä¸­å¿ƒâ€é€šè¿‡DBé”ä¿è¯é›†ç¾¤åˆ†å¸ƒå¼è°ƒåº¦çš„ä¸€è‡´æ€§, ä¸€æ¬¡ä»»åŠ¡è°ƒåº¦åªä¼šè§¦å‘ä¸€æ¬¡æ‰§è¡Œï¼›</li><li>è‡ªå®šä¹‰ä»»åŠ¡å‚æ•°ï¼šæ”¯æŒåœ¨çº¿é…ç½®è°ƒåº¦ä»»åŠ¡å…¥å‚ï¼Œå³æ—¶ç”Ÿæ•ˆï¼›</li><li>è°ƒåº¦çº¿ç¨‹æ± ï¼šè°ƒåº¦ç³»ç»Ÿå¤šçº¿ç¨‹è§¦å‘è°ƒåº¦è¿è¡Œï¼Œç¡®ä¿è°ƒåº¦ç²¾ç¡®æ‰§è¡Œï¼Œä¸è¢«å µå¡ï¼›</li><li>æ•°æ®åŠ å¯†ï¼šè°ƒåº¦ä¸­å¿ƒå’Œæ‰§è¡Œå™¨ä¹‹é—´çš„é€šè®¯è¿›è¡Œæ•°æ®åŠ å¯†ï¼Œæå‡è°ƒåº¦ä¿¡æ¯å®‰å…¨æ€§ï¼›</li><li>é‚®ä»¶æŠ¥è­¦ï¼šä»»åŠ¡å¤±è´¥æ—¶æ”¯æŒé‚®ä»¶æŠ¥è­¦ï¼Œæ”¯æŒé…ç½®å¤šé‚®ä»¶åœ°å€ç¾¤å‘æŠ¥è­¦é‚®ä»¶ï¼›</li><li>æ¨é€mavenä¸­å¤®ä»“åº“: å°†ä¼šæŠŠæœ€æ–°ç¨³å®šç‰ˆæ¨é€åˆ°mavenä¸­å¤®ä»“åº“, æ–¹ä¾¿ç”¨æˆ·æ¥å…¥å’Œä½¿ç”¨;</li><li>è¿è¡ŒæŠ¥è¡¨ï¼šæ”¯æŒå®æ—¶æŸ¥çœ‹è¿è¡Œæ•°æ®ï¼Œå¦‚ä»»åŠ¡æ•°é‡ã€è°ƒåº¦æ¬¡æ•°ã€æ‰§è¡Œå™¨æ•°é‡ç­‰ï¼›ä»¥åŠè°ƒåº¦æŠ¥è¡¨ï¼Œå¦‚è°ƒåº¦æ—¥æœŸåˆ†å¸ƒå›¾ï¼Œè°ƒåº¦æˆåŠŸåˆ†å¸ƒå›¾ç­‰ï¼›</li><li>å…¨å¼‚æ­¥ï¼šä»»åŠ¡è°ƒåº¦æµç¨‹å…¨å¼‚æ­¥åŒ–è®¾è®¡å®ç°ï¼Œå¦‚å¼‚æ­¥è°ƒåº¦ã€å¼‚æ­¥è¿è¡Œã€å¼‚æ­¥å›è°ƒç­‰ï¼Œæœ‰æ•ˆå¯¹å¯†é›†è°ƒåº¦è¿›è¡Œæµé‡å‰Šå³°ï¼Œç†è®ºä¸Šæ”¯æŒä»»æ„æ—¶é•¿ä»»åŠ¡çš„è¿è¡Œï¼›</li><li>è·¨å¹³å°ï¼šåŸç”Ÿæä¾›é€šç”¨HTTPä»»åŠ¡Handlerï¼ˆBeanä»»åŠ¡ï¼Œâ€HttpJobHandlerâ€ï¼‰ï¼›ä¸šåŠ¡æ–¹åªéœ€è¦æä¾›HTTPé“¾æ¥å³å¯ï¼Œä¸é™åˆ¶è¯­è¨€ã€å¹³å°ï¼›</li><li>å›½é™…åŒ–ï¼šè°ƒåº¦ä¸­å¿ƒæ”¯æŒå›½é™…åŒ–è®¾ç½®ï¼Œæä¾›ä¸­æ–‡ã€è‹±æ–‡ä¸¤ç§å¯é€‰è¯­è¨€ï¼Œé»˜è®¤ä¸ºä¸­æ–‡ï¼›</li><li>å®¹å™¨åŒ–ï¼šæä¾›å®˜æ–¹dockeré•œåƒï¼Œå¹¶å®æ—¶æ›´æ–°æ¨é€dockerhubï¼Œè¿›ä¸€æ­¥å®ç°äº§å“å¼€ç®±å³ç”¨ï¼›</li><li>çº¿ç¨‹æ± éš”ç¦»ï¼šè°ƒåº¦çº¿ç¨‹æ± è¿›è¡Œéš”ç¦»æ‹†åˆ†ï¼Œæ…¢ä»»åŠ¡è‡ªåŠ¨é™çº§è¿›å…¥â€Slowâ€çº¿ç¨‹æ± ï¼Œé¿å…è€—å°½è°ƒåº¦çº¿ç¨‹ï¼Œæé«˜ç³»ç»Ÿç¨³å®šæ€§ï¼›</li><li>ç”¨æˆ·ç®¡ç†ï¼šæ”¯æŒåœ¨çº¿ç®¡ç†ç³»ç»Ÿç”¨æˆ·ï¼Œå­˜åœ¨ç®¡ç†å‘˜ã€æ™®é€šç”¨æˆ·ä¸¤ç§è§’è‰²ï¼›</li><li>æƒé™æ§åˆ¶ï¼šæ‰§è¡Œå™¨ç»´åº¦è¿›è¡Œæƒé™æ§åˆ¶ï¼Œç®¡ç†å‘˜æ‹¥æœ‰å…¨é‡æƒé™ï¼Œæ™®é€šç”¨æˆ·éœ€è¦åˆ†é…æ‰§è¡Œå™¨æƒé™åæ‰å…è®¸ç›¸å…³æ“ä½œã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;XXL-JOBæ˜¯ä¸€ä¸ªè½»é‡çº§åˆ†å¸ƒå¼ä»»åŠ¡è°ƒåº¦å¹³å°ï¼Œå…¶æ ¸å¿ƒè®¾è®¡ç›®æ ‡æ˜¯å¼€å‘è¿…é€Ÿã€å­¦ä¹ ç®€å•ã€è½»é‡çº§ã€æ˜“æ‰©å±•ã€‚ç°å·²å¼€æ”¾æºä»£ç å¹¶æ¥å…¥å¤šå®¶å…¬å¸çº¿ä¸Šäº§å“çº¿ï¼Œå¼€ç®±å³ç”¨ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;é¡¹ç›®åœ°å€ï¼š&lt;a href=&quot;http://www.xux
      
    
    </summary>
    
    
      <category term="å¸¸ç”¨å·¥å…·" scheme="https://github.com/weiecho/categories/%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/"/>
    
    
      <category term="java" scheme="https://github.com/weiecho/tags/java/"/>
    
      <category term="å¼€æºå·¥å…·" scheme="https://github.com/weiecho/tags/%E5%BC%80%E6%BA%90%E5%B7%A5%E5%85%B7/"/>
    
      <category term="å®šæ—¶ä»»åŠ¡" scheme="https://github.com/weiecho/tags/%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1/"/>
    
  </entry>
  
  <entry>
    <title>ä¹æª¬æ¡†æ¶ä¹‹cloudå¾®æœåŠ¡æ¡†æ¶</title>
    <link href="https://github.com/weiecho/2019/09/06/doc_1112/"/>
    <id>https://github.com/weiecho/2019/09/06/doc_1112/</id>
    <published>2019-09-06T10:34:12.000Z</published>
    <updated>2020-07-03T02:04:54.950Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>åŸºäºconsulæ³¨å†Œä¸­å¿ƒå®ç°å¾®æœåŠ¡æ¡†æ¶ï¼Œä½¿ç”¨consulæ›¿ä»£eurekaå’Œgit configæ¨¡å¼</p></blockquote><p>é¡¹ç›®åœ°å€ï¼š<a href="https://github.com/weiecho/lemon-consul-cloud">lemon-consul-cloud</a></p><p>æœ¬é¡¹ç›®é¢„å¯åŠ¨æ—¶é—´ä¸º2019-03-01ï¼Œå®ç°ä»¥ä¸‹å†…å®¹ï¼š</p><h4 id="å¼€å‘è®¡åˆ’"><a href="#å¼€å‘è®¡åˆ’" class="headerlink" title="å¼€å‘è®¡åˆ’"></a>å¼€å‘è®¡åˆ’</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">v0.1ç‰ˆæœ¬ æ•´ä½“æœåŠ¡ç»“æ„åˆ’åˆ†ï¼ŒæœåŠ¡è¾¹ç•Œè®¾å®š</span><br><span class="line">v0.2ç‰ˆæœ¬ æœåŠ¡ç½‘å…³æˆæƒæ¨¡å¼æ­å»º</span><br><span class="line">v0.3ç‰ˆæœ¬ å‰åç«¯æŠ€æœ¯æ¡†æ¶æ¥å…¥</span><br><span class="line">v0.4ç‰ˆæœ¬ æœåŠ¡å¼€å‘æŠ€æœ¯è§„èŒƒæ–‡æ¡£</span><br><span class="line">v0.5ç‰ˆæœ¬ ç”¨æˆ·åŸºç¡€æœåŠ¡åŠŸèƒ½</span><br></pre></td></tr></table></figure><h4 id="æœåŠ¡æ¡†æ¶æ€»è§ˆ"><a href="#æœåŠ¡æ¡†æ¶æ€»è§ˆ" class="headerlink" title="æœåŠ¡æ¡†æ¶æ€»è§ˆ"></a>æœåŠ¡æ¡†æ¶æ€»è§ˆ</h4><ul><li>lemon-gateway  æœåŠ¡ç½‘å…³</li><li>lemon-monitor  æœåŠ¡ç›‘æ§</li></ul><p>commons  æœåŠ¡åŸºç¡€ç»„ä»¶ä¸­å¿ƒ</p><ul><li>lemon-common  æœåŠ¡é€šç”¨ç»„ä»¶</li><li>lemon-distribution  åˆ†å¸ƒä¸šåŠ¡é”&amp;ä»»åŠ¡é”</li><li>lemon-framework  æœåŠ¡åŸºç¡€åŠŸèƒ½ç±»åŒ…</li><li>lemon-rabbit  æœåŠ¡RabbitåŠŸèƒ½ç»Ÿä¸€å°è£…ç»„ä»¶</li><li>lemon-sharding  æ•°æ®åº“åˆ†åº“åˆ†è¡¨å°è£…ç»„ä»¶</li></ul><p>services  å¾®æœåŠ¡ä¸­å¿ƒ</p><ul><li>lemon-auth  æˆæƒ&amp;é‰´æƒæœåŠ¡</li><li>lemon-user  ç”¨æˆ·æœåŠ¡</li><li>lemon-xxx   </li></ul><h4 id="æœåŠ¡åˆ’åˆ†è¯´æ˜"><a href="#æœåŠ¡åˆ’åˆ†è¯´æ˜" class="headerlink" title="æœåŠ¡åˆ’åˆ†è¯´æ˜"></a>æœåŠ¡åˆ’åˆ†è¯´æ˜</h4><p><em>æ˜ç¡®åˆ’åˆ†æ¯ä¸ªæœåŠ¡çš„åŠŸèƒ½</em></p><table><thead><tr><th>NO.</th><th>Module</th><th>Name</th><th>Desc</th></tr></thead><tbody><tr><td>1</td><td>lemon-auth</td><td>æˆæƒæœåŠ¡</td><td>ç”¨æˆ·æˆæƒä¸­å¿ƒç®¡ç†</td></tr><tr><td>2</td><td>lemon-user</td><td>ç”¨æˆ·æœåŠ¡</td><td>ç”¨æˆ·ä¿¡æ¯ä¸­å¿ƒæœåŠ¡</td></tr><tr><td>3</td><td>lemon-payment</td><td>è´¦åŠ¡æœåŠ¡</td><td>ç”¨æˆ·äº¤æ˜“ä¸­å¿ƒæœåŠ¡</td></tr><tr><td>4</td><td>lemon-adjust</td><td>æ ¸ç®—æœåŠ¡</td><td>è´¦æˆ·æ ¸ç®—ä¸­å¿ƒæœåŠ¡</td></tr><tr><td>5</td><td>lemon-message</td><td>æ¶ˆæ¯æœåŠ¡</td><td>ç”¨æˆ·æ¶ˆæ¯ä¸­å¿ƒæœåŠ¡</td></tr></tbody></table><h4 id="æœåŠ¡é¡¹ç›®ç»“æ„çº¦å®š"><a href="#æœåŠ¡é¡¹ç›®ç»“æ„çº¦å®š" class="headerlink" title="æœåŠ¡é¡¹ç›®ç»“æ„çº¦å®š"></a>æœåŠ¡é¡¹ç›®ç»“æ„çº¦å®š</h4><table><thead><tr><th>NO.</th><th>Package</th><th>Desc</th></tr></thead><tbody><tr><td>1</td><td>cn.lemon.{xxxx}.api.rest</td><td>æä¾›å¯¹å¤–æœåŠ¡restæ¥å£</td></tr><tr><td>2</td><td>cn.lemon.{xxxx}.api.rpc</td><td>æä¾›å¯¹å†…æœåŠ¡rpcæ¥å£</td></tr><tr><td>3</td><td>cn.lemon.{xxxx}.config</td><td>æä¾›æœåŠ¡é…ç½®ç›¸å…³</td></tr><tr><td>4</td><td>cn.lemon.{xxxx}.entity.enums</td><td>æä¾›ä¸šåŠ¡æšä¸¾ç±»</td></tr><tr><td>5</td><td>cn.lemon.{xxxx}.entity.po</td><td>æä¾›æ•°æ®åº“æ˜ å°„å®ä½“</td></tr><tr><td>6</td><td>cn.lemon.{xxxx}.entity.vo</td><td>æä¾›å¯¹å¤–æ¥å£æ˜ å°„å®ä½“</td></tr><tr><td>7</td><td>cn.lemon.{xxxx}.rpc.client</td><td>æä¾›å¯¹å†…æœåŠ¡rpcè°ƒç”¨æ¥å£ (apiå±‚ä¸èƒ½è°ƒç”¨rpcæ¥å£)</td></tr><tr><td>8</td><td>cn.lemon.{xxxx}.rpc.client.fallback</td><td>æä¾›å¯¹å†…æœåŠ¡rpcè°ƒç”¨å¤±è´¥ä¸šåŠ¡å¤„ç†</td></tr><tr><td>9</td><td>cn.lemon.{xxxx}.service</td><td>æä¾›ä¸šåŠ¡é€»è¾‘æ¥å£ (apiå±‚è°ƒç”¨ä¸šåŠ¡æ¥å£)</td></tr><tr><td>10</td><td>cn.lemon.{xxxx}.service.impl</td><td>æä¾›ä¸šåŠ¡é€»è¾‘å®ç°</td></tr><tr><td>11</td><td>cn.lemon.{xxxx}.dao</td><td>æä¾›æ•°æ®åº“æ“ä½œ</td></tr><tr><td>12</td><td>cn.lemon.{xxxx}.events.pub</td><td>æä¾›MQå‘é€äº‹ä»¶</td></tr><tr><td>13</td><td>cn.lemon.{xxxx}.events.sub</td><td>æä¾›MQæ¥æ”¶äº‹ä»¶</td></tr><tr><td>14</td><td>cn.lemon.{xxxx}.task</td><td>æä¾›ä»»åŠ¡å®šæ—¶æ‰§è¡Œé€»è¾‘</td></tr></tbody></table>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;åŸºäºconsulæ³¨å†Œä¸­å¿ƒå®ç°å¾®æœåŠ¡æ¡†æ¶ï¼Œä½¿ç”¨consulæ›¿ä»£eurekaå’Œgit configæ¨¡å¼&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;é¡¹ç›®åœ°å€ï¼š&lt;a href=&quot;https://github.com/weiecho/lemon-consul
      
    
    </summary>
    
    
      <category term="å¼€æºæ–‡æ¡£" scheme="https://github.com/weiecho/categories/%E5%BC%80%E6%BA%90%E6%96%87%E6%A1%A3/"/>
    
    
      <category term="springboot" scheme="https://github.com/weiecho/tags/springboot/"/>
    
      <category term="cloud" scheme="https://github.com/weiecho/tags/cloud/"/>
    
      <category term="consul" scheme="https://github.com/weiecho/tags/consul/"/>
    
      <category term="lemon" scheme="https://github.com/weiecho/tags/lemon/"/>
    
  </entry>
  
  <entry>
    <title>XXL-JOBåˆ†å¸ƒå¼ä»»åŠ¡å¿«é€Ÿå…¥é—¨</title>
    <link href="https://github.com/weiecho/2019/09/05/stu_1111/"/>
    <id>https://github.com/weiecho/2019/09/05/stu_1111/</id>
    <published>2019-09-05T07:21:11.000Z</published>
    <updated>2020-07-03T02:06:28.839Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>XXL-JOBæ˜¯ä¸€ä¸ªè½»é‡çº§åˆ†å¸ƒå¼ä»»åŠ¡è°ƒåº¦å¹³å°ï¼Œå…¶æ ¸å¿ƒè®¾è®¡ç›®æ ‡æ˜¯å¼€å‘è¿…é€Ÿã€å­¦ä¹ ç®€å•ã€è½»é‡çº§ã€æ˜“æ‰©å±•ã€‚ç°å·²å¼€æ”¾æºä»£ç å¹¶æ¥å…¥å¤šå®¶å…¬å¸çº¿ä¸Šäº§å“çº¿ï¼Œå¼€ç®±å³ç”¨ã€‚</p></blockquote><p>é¡¹ç›®åœ°å€ï¼š<a href="http://www.xuxueli.com/xxl-job/" target="_blank" rel="noopener">xxl-jobåˆ†å¸ƒå¼ä»»åŠ¡è°ƒåº¦å¹³å°</a></p><h3 id="æ¨¡å—"><a href="#æ¨¡å—" class="headerlink" title="æ¨¡å—"></a>æ¨¡å—</h3><ul><li>è°ƒåº¦ä¸­å¿ƒ xxl-job-admin</li><li>å…¬å…±ä¾èµ– xxl-job-core</li><li>ä»»åŠ¡æ‰§è¡Œå™¨ opay-xxx</li></ul><h3 id="é›†ç¾¤"><a href="#é›†ç¾¤" class="headerlink" title="é›†ç¾¤"></a>é›†ç¾¤</h3><ul><li>è°ƒåº¦ä¸­å¿ƒé›†ç¾¤</li><li>DBé…ç½®ä¿æŒä¸€è‡´</li><li>ç™»é™†è´¦å·é…ç½®ä¿æŒä¸€è‡´</li><li>é›†ç¾¤æœºå™¨æ—¶é’Ÿä¿æŒä¸€è‡´<br><em>å»ºè®®ï¼šæ¨èé€šè¿‡nginxä¸ºè°ƒåº¦ä¸­å¿ƒé›†ç¾¤åšè´Ÿè½½å‡è¡¡ï¼Œåˆ†é…åŸŸå</em></li><li>è°ƒåº¦ä¸­å¿ƒè®¿é—®ã€æ‰§è¡Œå™¨å›è°ƒé…ç½®ã€è°ƒç”¨APIæœåŠ¡ç­‰æ“ä½œå‡é€šè¿‡è¯¥åŸŸåè¿›è¡Œã€‚</li><li>æ‰§è¡Œå™¨é›†ç¾¤<ul><li>æ‰§è¡Œå™¨å›è°ƒåœ°å€ä¿æŒä¸€è‡´<br><em>xxl.job.admin.addresses</em></li><li>æ‰§è¡Œå™¨é›†ç¾¤å†…AppNameä¿æŒä¸€è‡´<br><em>xxl.job.executor.appnameâ€‹</em></li></ul></li></ul><h3 id="ä»»åŠ¡å…³é”®ç‚¹"><a href="#ä»»åŠ¡å…³é”®ç‚¹" class="headerlink" title="ä»»åŠ¡å…³é”®ç‚¹"></a>ä»»åŠ¡å…³é”®ç‚¹</h3><ul><li>æ‰§è¡Œå™¨</li><li>ä»»åŠ¡æè¿°</li><li>è·¯ç”±ç­–ç•¥<ul><li>FIRSTï¼ˆç¬¬ä¸€ä¸ªï¼‰<br><em>å›ºå®šé€‰æ‹©ç¬¬ä¸€ä¸ªæœºå™¨</em></li><li>LASTï¼ˆæœ€åä¸€ä¸ªï¼‰<br><em>å›ºå®šé€‰æ‹©æœ€åä¸€ä¸ªæœºå™¨</em></li><li>ROUNDï¼ˆè½®è¯¢ï¼‰</li><li>RANDOMï¼ˆéšæœºï¼‰<br><em>éšæœºé€‰æ‹©åœ¨çº¿çš„æœºå™¨</em></li><li>CONSISTENT_HASHï¼ˆä¸€è‡´æ€§HASHï¼‰<br><em>æ¯ä¸ªä»»åŠ¡æŒ‰ç…§Hashç®—æ³•å›ºå®šé€‰æ‹©æŸä¸€å°æœºå™¨ï¼Œä¸”æ‰€æœ‰ä»»åŠ¡å‡åŒ€æ•£åˆ—åœ¨ä¸åŒæœºå™¨ä¸Š</em></li><li>LEAST_FREQUENTLY_USEDï¼ˆæœ€ä¸ç»å¸¸ä½¿ç”¨ï¼‰<br><em>ä½¿ç”¨é¢‘ç‡æœ€ä½çš„æœºå™¨ä¼˜å…ˆè¢«é€‰ä¸¾</em></li><li>LEAST_RECENTLY_USEDï¼ˆæœ€è¿‘æœ€ä¹…æœªä½¿ç”¨ï¼‰<br><em>æœ€ä¹…ä¸ºä½¿ç”¨çš„æœºå™¨ä¼˜å…ˆè¢«é€‰ä¸¾</em></li><li>FAILOVERï¼ˆæ•…éšœè½¬ç§»ï¼‰<br><em>æŒ‰ç…§é¡ºåºä¾æ¬¡è¿›è¡Œå¿ƒè·³æ£€æµ‹ï¼Œç¬¬ä¸€ä¸ªå¿ƒè·³æ£€æµ‹æˆåŠŸçš„æœºå™¨é€‰å®šä¸ºç›®æ ‡æ‰§è¡Œå™¨å¹¶å‘èµ·è°ƒåº¦</em></li><li>BUSYOVERï¼ˆå¿™ç¢Œè½¬ç§»ï¼‰<br><em>æŒ‰ç…§é¡ºåºä¾æ¬¡è¿›è¡Œç©ºé—²æ£€æµ‹ï¼Œç¬¬ä¸€ä¸ªç©ºé—²æ£€æµ‹æˆåŠŸçš„æœºå™¨é€‰å®šä¸ºç›®æ ‡æ‰§è¡Œå™¨å¹¶å‘èµ·è°ƒåº¦</em></li><li>SHARDING_BROADCAST(åˆ†ç‰‡å¹¿æ’­)<br><em>å¹¿æ’­è§¦å‘å¯¹åº”é›†ç¾¤ä¸­æ‰€æœ‰æœºå™¨æ‰§è¡Œä¸€æ¬¡ä»»åŠ¡ï¼ŒåŒæ—¶ç³»ç»Ÿè‡ªåŠ¨ä¼ é€’åˆ†ç‰‡å‚æ•°ï¼Œå¯æ ¹æ®åˆ†ç‰‡å‚æ•°å¼€å‘åˆ†ç‰‡ä»»åŠ¡</em> </li></ul></li><li>Cronè¡¨è¾¾å¼<ul><li>è¿è¡Œæ¨¡å¼<ul><li>BEAN</li><li>GLUE</li><li>JobHandler<br><em>ä»»åŠ¡beanåç§°@JobHandler</em></li></ul></li></ul></li><li>é˜»å¡ç­–ç•¥<ul><li>å•æœºä¸²è¡Œ<br><em>è¿›å…¥å•æœºæ‰§è¡Œå™¨åï¼Œè¿›å…¥FIFOé˜Ÿåˆ—å¹¶ä»¥ä¸²è¡Œæ–¹å¼è¿è¡Œ</em></li><li>ä¸¢å¼ƒåç»­è°ƒåº¦<br><em>è¿›å…¥å•æœºæ‰§è¡Œå™¨åï¼Œå‘ç°æ‰§è¡Œå™¨å­˜åœ¨è¿è¡Œçš„è°ƒåº¦ä»»åŠ¡ï¼Œæœ¬æ¬¡è¯·æ±‚å°†ä¼šè¢«ä¸¢å¼ƒå¹¶æ ‡è®°ä¸ºå¤±è´¥</em></li><li>è¦†ç›–ä¹‹å‰è°ƒåº¦<br><em>è¿›å…¥å•æœºæ‰§è¡Œå™¨åï¼Œå‘ç°æ‰§è¡Œå™¨å­˜åœ¨è¿è¡Œçš„è°ƒåº¦ä»»åŠ¡ï¼Œå°†ä¼šç»ˆæ­¢è¿è¡Œä¸­çš„è°ƒåº¦ä»»åŠ¡å¹¶æ¸…ç©ºé˜Ÿåˆ—</em></li></ul></li><li>è´Ÿè´£äºº</li><li>å…¶ä»–<ul><li>å­ä»»åŠ¡ID</li><li>è¶…æ—¶æ—¶é—´</li><li>é‡è¯•æ¬¡æ•°</li><li>æŠ¥è­¦é‚®ä»¶</li><li>ä»»åŠ¡å‚æ•°</li></ul></li></ul><h3 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h3><ul><li>æ—¥å¿—æ–‡ä»¶ç›®å½•éœ€è¦æƒé™<br><em>é»˜è®¤ /data/applogs/xxl-job/jobhandlerâ€‹</em></li><li>è®¾ç½®æ—¥å¿—ä¿å­˜å¤©æ•°<br><em>xxl.job.executor.logretentiondays=-1 //å¤§äº3ç”Ÿæ•ˆ</em></li><li>æ‰§è¡Œæ—¥å¿—éœ€è¦é€šè¿‡ â€œXxlJobLogger.logâ€ æ‰“å°æ‰§è¡Œæ—¥å¿—</li><li>adminæ‰§è¡Œä»»åŠ¡æ—¶æŠ¥é”™ Communications link failure<br><em>æ•°æ®åº“é“¾æ¥åœ°å€åŠ ä¸Š &amp;autoReconnect=true&amp;failOverReadOnly=false</em></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;XXL-JOBæ˜¯ä¸€ä¸ªè½»é‡çº§åˆ†å¸ƒå¼ä»»åŠ¡è°ƒåº¦å¹³å°ï¼Œå…¶æ ¸å¿ƒè®¾è®¡ç›®æ ‡æ˜¯å¼€å‘è¿…é€Ÿã€å­¦ä¹ ç®€å•ã€è½»é‡çº§ã€æ˜“æ‰©å±•ã€‚ç°å·²å¼€æ”¾æºä»£ç å¹¶æ¥å…¥å¤šå®¶å…¬å¸çº¿ä¸Šäº§å“çº¿ï¼Œå¼€ç®±å³ç”¨ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;é¡¹ç›®åœ°å€ï¼š&lt;a href=&quot;http://www.xux
      
    
    </summary>
    
    
      <category term="å­¦ä¹ ç¬”è®°" scheme="https://github.com/weiecho/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="java" scheme="https://github.com/weiecho/tags/java/"/>
    
      <category term="å¼€æºå·¥å…·" scheme="https://github.com/weiecho/tags/%E5%BC%80%E6%BA%90%E5%B7%A5%E5%85%B7/"/>
    
      <category term="å®šæ—¶ä»»åŠ¡" scheme="https://github.com/weiecho/tags/%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1/"/>
    
  </entry>
  
  <entry>
    <title>æœåŠ¡å¼€å‘æ ¸å¿ƒæ€æƒ³</title>
    <link href="https://github.com/weiecho/2019/09/03/exp_1111/"/>
    <id>https://github.com/weiecho/2019/09/03/exp_1111/</id>
    <published>2019-09-03T04:30:12.000Z</published>
    <updated>2020-07-03T02:06:50.143Z</updated>
    
    <content type="html"><![CDATA[<h3 id="ä¿éšœæœåŠ¡å¯æ‰©å±•æ€§çš„ä¸ƒå¤§åŸåˆ™"><a href="#ä¿éšœæœåŠ¡å¯æ‰©å±•æ€§çš„ä¸ƒå¤§åŸåˆ™" class="headerlink" title="ä¿éšœæœåŠ¡å¯æ‰©å±•æ€§çš„ä¸ƒå¤§åŸåˆ™"></a>ä¿éšœæœåŠ¡å¯æ‰©å±•æ€§çš„ä¸ƒå¤§åŸåˆ™</h3><p>1ã€æŒ‰åŠŸèƒ½åˆ’åˆ†</p><p>2ã€æ°´å¹³åˆ‡åˆ†</p><p>3ã€å°½é‡é¿å…äº‹åŠ¡</p><p>4ã€é€‚å½“é‡‡ç”¨å¼‚æ­¥è§£è€¦</p><p>5ã€æ¬¡æµç¨‹æ”¹è¿›ä¸ºå¼‚æ­¥</p><p>6ã€è™šæ‹ŸåŒ–æ‰€æœ‰å±‚æ¬¡</p><p>7ã€é€‚å½“ä½¿ç”¨ç¼“å­˜</p><h3 id="æœåŠ¡æ‹†åˆ†å¼€å‘çš„å››é¡¹åŸåˆ™"><a href="#æœåŠ¡æ‹†åˆ†å¼€å‘çš„å››é¡¹åŸåˆ™" class="headerlink" title="æœåŠ¡æ‹†åˆ†å¼€å‘çš„å››é¡¹åŸåˆ™"></a>æœåŠ¡æ‹†åˆ†å¼€å‘çš„å››é¡¹åŸåˆ™</h3><p>1ã€å…ˆä¸šåŠ¡åæŠ€æœ¯ï¼Œå…ˆé€»è¾‘åç‰©ç†</p><p>2ã€å¥¥å¡å§†å‰ƒåˆ€ï¼šå¦‚æ— å¿…é¡»å‹¿å¢å®ä½“</p><p>3ã€æ­£äº¤æ€§ï¼šæŠ½è±¡å‡ºæ¨¡å—é—´æ— ä¸šåŠ¡ç›¸å…³çš„é‡å¤ä»£ç </p><p>4ã€ç¨³å®šæ€§åŸåˆ™ï¼šæœåŠ¡çš„ç¨³å®šæ€§ä¼˜å…ˆï¼Œé€šè¿‡æ‹†åˆ†è§£è€¦</p><blockquote><p>å¯å‚è€ƒçš„æŠ€æœ¯æ–¹æ¡ˆï¼šæ¥å£åŒ–ã€æ¶ˆæ¯é˜Ÿåˆ—ã€æ¨¡å—åŒ–ã€æœåŠ¡åŒ–ã€å¼‚æ­¥åŒ–</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;ä¿éšœæœåŠ¡å¯æ‰©å±•æ€§çš„ä¸ƒå¤§åŸåˆ™&quot;&gt;&lt;a href=&quot;#ä¿éšœæœåŠ¡å¯æ‰©å±•æ€§çš„ä¸ƒå¤§åŸåˆ™&quot; class=&quot;headerlink&quot; title=&quot;ä¿éšœæœåŠ¡å¯æ‰©å±•æ€§çš„ä¸ƒå¤§åŸåˆ™&quot;&gt;&lt;/a&gt;ä¿éšœæœåŠ¡å¯æ‰©å±•æ€§çš„ä¸ƒå¤§åŸåˆ™&lt;/h3&gt;&lt;p&gt;1ã€æŒ‰åŠŸèƒ½åˆ’åˆ†&lt;/p&gt;
&lt;p&gt;2ã€æ°´å¹³åˆ‡åˆ†&lt;/p&gt;

      
    
    </summary>
    
    
      <category term="ç»éªŒåˆ†äº«" scheme="https://github.com/weiecho/categories/%E7%BB%8F%E9%AA%8C%E5%88%86%E4%BA%AB/"/>
    
    
      <category term="springboot" scheme="https://github.com/weiecho/tags/springboot/"/>
    
      <category term="cloud" scheme="https://github.com/weiecho/tags/cloud/"/>
    
      <category term="åˆ†å¸ƒå¼" scheme="https://github.com/weiecho/tags/%E5%88%86%E5%B8%83%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>Hutoolå·¥å…·åŒ…ç±»åº“</title>
    <link href="https://github.com/weiecho/2019/09/02/tool_1111/"/>
    <id>https://github.com/weiecho/2019/09/02/tool_1111/</id>
    <published>2019-09-02T12:33:12.000Z</published>
    <updated>2020-07-03T02:06:37.677Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Hutoolæ˜¯ä¸€ä¸ªJavaå·¥å…·åŒ…ï¼Œä¹Ÿåªæ˜¯ä¸€ä¸ªå·¥å…·åŒ…ï¼Œå®ƒå¸®åŠ©æˆ‘ä»¬ç®€åŒ–æ¯ä¸€è¡Œä»£ç ï¼Œå‡å°‘æ¯ä¸€ä¸ªæ–¹æ³•ï¼Œè®©Javaè¯­è¨€ä¹Ÿå¯ä»¥â€œç”œç”œçš„â€ã€‚Hutoolæœ€åˆæ˜¯æˆ‘é¡¹ç›®ä¸­â€œutilâ€åŒ…çš„ä¸€ä¸ªæ•´ç†ï¼Œåæ¥æ…¢æ…¢ç§¯ç´¯å¹¶åŠ å…¥æ›´å¤šéä¸šåŠ¡ç›¸å…³åŠŸèƒ½ï¼Œå¹¶å¹¿æ³›å­¦ä¹ å…¶å®ƒå¼€æºé¡¹ç›®ç²¾é«“ï¼Œç»è¿‡è‡ªå·±æ•´ç†ä¿®æ”¹ï¼Œæœ€ç»ˆå½¢æˆä¸°å¯Œçš„å¼€æºå·¥å…·é›†ã€‚</p></blockquote><p>é¡¹ç›®åœ°å€ï¼š<a href="https://hutool.cn" target="_blank" rel="noopener">hutoolå·¥å…·åŒ…</a></p><h2 id="æ—¥æœŸå·¥å…·"><a href="#æ—¥æœŸå·¥å…·" class="headerlink" title="æ—¥æœŸå·¥å…·"></a>æ—¥æœŸå·¥å…·</h2><p>é€šè¿‡DateUtilç±»ï¼Œæä¾›é«˜åº¦ä¾¿æ·çš„æ—¥æœŸè®¿é—®ã€å¤„ç†å’Œè½¬æ¢æ–¹å¼ã€‚</p><h2 id="HTTPå®¢æˆ·ç«¯"><a href="#HTTPå®¢æˆ·ç«¯" class="headerlink" title="HTTPå®¢æˆ·ç«¯"></a>HTTPå®¢æˆ·ç«¯</h2><p>é€šè¿‡HttpUtilå¯¹HTTPå®¢æˆ·ç«¯çš„å°è£…ï¼Œå®ç°ä¾¿æ·çš„HTTPè¯·æ±‚ï¼Œå¹¶ç®€åŒ–æ–‡ä»¶ä¸Šä¼ æ“ä½œã€‚</p><h2 id="è½¬æ¢å·¥å…·"><a href="#è½¬æ¢å·¥å…·" class="headerlink" title="è½¬æ¢å·¥å…·"></a>è½¬æ¢å·¥å…·</h2><p>é€šè¿‡Convertç±»ä¸­çš„ç›¸åº”é™æ€æ–¹æ³•ï¼Œæä¾›ä¸€æ•´å¥—çš„ç±»å‹è½¬æ¢è§£å†³æ–¹æ¡ˆï¼Œå¹¶é€šè¿‡ConverterRegistryå·¥å‚ç±»è‡ªå®šä¹‰è½¬æ¢ã€‚</p><h2 id="é…ç½®æ–‡ä»¶å·¥å…·"><a href="#é…ç½®æ–‡ä»¶å·¥å…·" class="headerlink" title="é…ç½®æ–‡ä»¶å·¥å…·"></a>é…ç½®æ–‡ä»¶å·¥å…·</h2><p>é€šè¿‡Settingå¯¹è±¡ï¼Œæä¾›å…¼å®¹Propertiesæ–‡ä»¶çš„æ›´åŠ å¼ºå¤§çš„é…ç½®æ–‡ä»¶å·¥å…·ï¼Œç”¨äºè§£å†³ä¸­æ–‡ã€åˆ†ç»„ç­‰JDKé…ç½®æ–‡ä»¶å­˜åœ¨çš„è¯¸å¤šé—®é¢˜ã€‚</p><h2 id="æ—¥å¿—å·¥å…·"><a href="#æ—¥å¿—å·¥å…·" class="headerlink" title="æ—¥å¿—å·¥å…·"></a>æ—¥å¿—å·¥å…·</h2><p>Hutoolçš„æ—¥å¿—åŠŸèƒ½ï¼Œé€šè¿‡æŠ½è±¡Logæ¥å£ï¼Œæä¾›å¯¹Slf4jã€LogBackã€Log4jã€JDK-Loggingçš„å…¨é¢å…¼å®¹æ”¯æŒã€‚</p><h2 id="JDBCå·¥å…·ç±»"><a href="#JDBCå·¥å…·ç±»" class="headerlink" title="JDBCå·¥å…·ç±»"></a>JDBCå·¥å…·ç±»</h2><p>é€šè¿‡dbæ¨¡å—ï¼Œæä¾›å¯¹MySQLã€Oracleç­‰å…³ç³»å‹æ•°æ®åº“çš„JDBCå°è£…ï¼Œå€ŸåŠ©ActiveRecordæ€æƒ³ï¼Œå¤§å¤§ç®€åŒ–æ•°æ®åº“æ“ä½œã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;Hutoolæ˜¯ä¸€ä¸ªJavaå·¥å…·åŒ…ï¼Œä¹Ÿåªæ˜¯ä¸€ä¸ªå·¥å…·åŒ…ï¼Œå®ƒå¸®åŠ©æˆ‘ä»¬ç®€åŒ–æ¯ä¸€è¡Œä»£ç ï¼Œå‡å°‘æ¯ä¸€ä¸ªæ–¹æ³•ï¼Œè®©Javaè¯­è¨€ä¹Ÿå¯ä»¥â€œç”œç”œçš„â€ã€‚Hutoolæœ€åˆæ˜¯æˆ‘é¡¹ç›®ä¸­â€œutilâ€åŒ…çš„ä¸€ä¸ªæ•´ç†ï¼Œåæ¥æ…¢æ…¢ç§¯ç´¯å¹¶åŠ å…¥æ›´å¤šéä¸šåŠ¡ç›¸å…³åŠŸèƒ½ï¼Œå¹¶å¹¿æ³›å­¦ä¹ å…¶å®ƒå¼€æºé¡¹ç›®ç²¾é«“ï¼Œç»è¿‡
      
    
    </summary>
    
    
      <category term="å¸¸ç”¨å·¥å…·" scheme="https://github.com/weiecho/categories/%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7/"/>
    
    
      <category term="java" scheme="https://github.com/weiecho/tags/java/"/>
    
      <category term="spring" scheme="https://github.com/weiecho/tags/spring/"/>
    
      <category term="å¼€æºå·¥å…·" scheme="https://github.com/weiecho/tags/%E5%BC%80%E6%BA%90%E5%B7%A5%E5%85%B7/"/>
    
  </entry>
  
  <entry>
    <title>å¼€å‘è€…çº¦å®š</title>
    <link href="https://github.com/weiecho/2019/09/01/doc_1110/"/>
    <id>https://github.com/weiecho/2019/09/01/doc_1110/</id>
    <published>2019-09-01T03:10:12.000Z</published>
    <updated>2020-07-03T02:06:59.126Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æœ¬æ–‡æ¡£çº¦å®šäº†æœåŠ¡å¼€å‘äººå‘˜çš„ä»£ç è§„èŒƒï¼Œä»è€Œå¢å¼ºä»£ç çš„ä¸€è‡´æ€§å’Œå¯ç»´æŠ¤æ€§</p></blockquote><p>1ã€æ¥å£åœ°å€å’Œå‚æ•°ä¸¥æ ¼åŒºåˆ†å¤§å°å†™ï¼Œæ¥å£å°½é‡å…¨éƒ¨å°å†™ï¼Œå‚æ•°ä½¿ç”¨é©¼å³°å‘½åï¼›</p><p>2ã€æ¥å£é»˜è®¤ä»¥è¯·æ±‚å‚æ•°å½¢å¼ä¼ å…¥å‚æ•°ï¼Œå“åº”è¿”å›JSONæ ¼å¼æ•°æ®ï¼›</p><p>3ã€H5å†…æ‰€æœ‰èµ„æºå¼•ç”¨æ‰“åŒ…è‡ªåŠ¨å¸¦ä¸Šæ—¥æœŸç‰ˆæœ¬å·ï¼Œé˜²æ­¢å‘å¸ƒç‰ˆæœ¬å¼•ç”¨èµ„æºåœ¨æµè§ˆå™¨ç¼“å­˜å¯¼è‡´åŠŸèƒ½å¼‚å¸¸ï¼ˆå¦‚ï¼š./jquery-1.11.0.js?v=201806051011ï¼‰</p><p>4ã€æ¥å£è¯·æ±‚æ•°æ®å‡éœ€è¦æºå¸¦headerå‚æ•°ï¼š</p><table><thead><tr><th align="left">å‚æ•°å</th><th align="left">å¿…å¡«</th><th align="left">ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td align="left">x-auth-token</td><td align="left">æ˜¯</td><td align="left">string</td><td>ç™»å½•åè¿”å›çš„token</td></tr><tr><td align="left">x-app-version</td><td align="left">æ˜¯</td><td align="left">string</td><td>åº”ç”¨ç‰ˆæœ¬ï¼ˆå›ºå®š 1.0.0ï¼‰</td></tr><tr><td align="left">x-device</td><td align="left">æ˜¯</td><td align="left">integer</td><td>è®¾å¤‡ç±»å‹(1ï¼šIOS 2ï¼šAndroid 3ï¼šwap 4: å¾®ä¿¡ 5: H5)</td></tr><tr><td align="left">x-device-name</td><td align="left">æ˜¯</td><td align="left">string</td><td>è®¾å¤‡/æµè§ˆå™¨åç§°ï¼ˆå¦‚ï¼šhuawei/Chromeï¼‰</td></tr><tr><td align="left">x-timestamp</td><td align="left">æ˜¯</td><td align="left">long</td><td>10ä½æ—¶é—´æˆ³</td></tr></tbody></table><p>5ã€æ¥å£è¿”å›æ•°æ®JSONæ ¼å¼æ ‡å‡†: </p><table><thead><tr><th align="left">å‚æ•°å</th><th align="left">ç±»å‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td align="left">code</td><td align="left">integer</td><td>çŠ¶æ€ç </td></tr><tr><td align="left">message</td><td align="left">string</td><td>çŠ¶æ€/é”™è¯¯ä¿¡æ¯</td></tr><tr><td align="left">data</td><td align="left">object</td><td>è¿”å›çš„æ•°æ®</td></tr></tbody></table><p>ä¸å¸¦è¿”å›æ•°æ®ç¤ºä¾‹ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"message"</span>: <span class="string">"æ“ä½œæˆåŠŸ"</span>,</span><br><span class="line">    <span class="attr">"code"</span>: <span class="string">"2000"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¸¦è¿”å›æ•°æ®ç¤ºä¾‹ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"message"</span>: <span class="string">"æ“ä½œæˆåŠŸ"</span>,</span><br><span class="line">    <span class="attr">"code"</span>: <span class="string">"2000"</span>,</span><br><span class="line">    <span class="attr">"data"</span>: &#123;</span><br><span class="line">        <span class="attr">"userId"</span>: <span class="string">"1488512189"</span>,</span><br><span class="line">        <span class="attr">"nickName"</span>: <span class="string">"å“ˆå“ˆ"</span>,</span><br><span class="line">        <span class="attr">"vip"</span>: <span class="string">"12"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¼‚å¸¸è¿”å›ç¤ºä¾‹ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"message"</span>: <span class="string">"çŸ­ä¿¡éªŒè¯ç å‘é€å¤±è´¥"</span>,</span><br><span class="line">    <span class="attr">"code"</span>: <span class="string">"6017"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;æœ¬æ–‡æ¡£çº¦å®šäº†æœåŠ¡å¼€å‘äººå‘˜çš„ä»£ç è§„èŒƒï¼Œä»è€Œå¢å¼ºä»£ç çš„ä¸€è‡´æ€§å’Œå¯ç»´æŠ¤æ€§&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;1ã€æ¥å£åœ°å€å’Œå‚æ•°ä¸¥æ ¼åŒºåˆ†å¤§å°å†™ï¼Œæ¥å£å°½é‡å…¨éƒ¨å°å†™ï¼Œå‚æ•°ä½¿ç”¨é©¼å³°å‘½åï¼›&lt;/p&gt;
&lt;p&gt;2ã€æ¥å£é»˜è®¤ä»¥è¯·æ±‚å‚æ•°å½¢å¼ä¼ å…¥å‚æ•°ï¼Œå“åº”è¿”å›JSON
      
    
    </summary>
    
    
      <category term="å¼€æºæ–‡æ¡£" scheme="https://github.com/weiecho/categories/%E5%BC%80%E6%BA%90%E6%96%87%E6%A1%A3/"/>
    
    
      <category term="å¾®æœåŠ¡" scheme="https://github.com/weiecho/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/"/>
    
      <category term="å¼€å‘è§„èŒƒ" scheme="https://github.com/weiecho/tags/%E5%BC%80%E5%8F%91%E8%A7%84%E8%8C%83/"/>
    
      <category term="java" scheme="https://github.com/weiecho/tags/java/"/>
    
  </entry>
  
</feed>
